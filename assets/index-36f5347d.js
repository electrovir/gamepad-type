const Ki=Object.prototype.toString;function Xi(e){switch(Ki.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ae(e,Error)}}function kt(e,t){return Ki.call(e)===`[object ${t}]`}function Yr(e){return kt(e,"ErrorEvent")}function Ds(e){return kt(e,"DOMError")}function Dc(e){return kt(e,"DOMException")}function xe(e){return kt(e,"String")}function Vr(e){return e===null||typeof e!="object"&&typeof e!="function"}function _t(e){return kt(e,"Object")}function Dn(e){return typeof Event<"u"&&Ae(e,Event)}function Nc(e){return typeof Element<"u"&&Ae(e,Element)}function Lc(e){return kt(e,"RegExp")}function It(e){return!!(e&&e.then&&typeof e.then=="function")}function Pc(e){return _t(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ji(e){return typeof e=="number"&&e!==e}function Ae(e,t){try{return e instanceof t}catch{return!1}}function Zi(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function pt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ns(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Zi(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Fc(e,t,n=!1){return xe(e)?Lc(t)?t.test(e):xe(t)?n?e===t:e.includes(t):!1:!1}function Rt(e,t=[],n=!1){return t.some(r=>Fc(e,r,n))}function Qi(e,t,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!Ae(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=$c(hr(e,t,s,o.originalException,r,i.exception.values,a,0),n))}function hr(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(Ae(r[s],Error)){Ls(o,a);const u=e(t,r[s]),d=c.length;Ps(u,s,d,a),c=hr(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Ae(u,Error)){Ls(o,a);const l=e(t,u),f=c.length;Ps(l,`errors[${d}]`,f,a),c=hr(e,t,n,u,s,[l,...c],l,f)}}),c}function Ls(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function Ps(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function $c(e,t){return e.map(n=>(n.value&&(n.value=pt(n.value,t)),n))}function rn(e){return e&&e.Math==Math?e:void 0}const A=typeof globalThis=="object"&&rn(globalThis)||typeof window=="object"&&rn(window)||typeof self=="object"&&rn(self)||typeof global=="object"&&rn(global)||function(){return this}()||{};function Nn(){return A}function eo(e,t,n){const r=n||A,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const mt=Nn(),Bc=80;function Xe(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Bc;for(;n&&i++<r&&(u=Hc(n,d),!(u==="html"||i>1&&o+s.length*c+u.length>=l));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function Hc(e,t){const n=e,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";if(mt.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(u&&u.length)u.forEach(l=>{r.push(`[${l[0]}="${l[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&xe(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)o=d[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function to(){try{return mt.document.location.href}catch{return""}}function Uc(e){return mt.document&&mt.document.querySelector?mt.document.querySelector(e):null}function no(e){if(!mt.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Ct=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,jc="Sentry Logger ",pr=["debug","info","warn","error","log","assert","trace"],bn={};function Je(e){if(!("console"in A))return e();const t=A.console,n={},r=Object.keys(bn);r.forEach(s=>{const i=bn[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function zc(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Ct?pr.forEach(n=>{t[n]=(...r)=>{e&&Je(()=>{A.console[n](`${jc}[${n}]:`,...r)})}}):pr.forEach(n=>{t[n]=()=>{}}),t}const p=zc(),Wc=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function qc(e){return e==="http"||e==="https"}function xt(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function ro(e){const t=Wc.exec(e);if(!t){Je(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i,o="",a]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return so({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function so(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Gc(e){if(!Ct)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(p.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?qc(r)?t&&isNaN(parseInt(t,10))?(p.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(p.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(p.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function io(e){const t=typeof e=="string"?ro(e):so(e);if(!(!t||!Gc(t)))return t}class Ie extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function re(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&oo(s,r),e[t]=s}function jt(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Ct&&p.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function oo(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,jt(e,"__sentry_original__",t)}catch{}}function Kr(e){return e.__sentry_original__}function Yc(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function ao(e){if(Xi(e))return{message:e.message,name:e.name,stack:e.stack,...$s(e)};if(Dn(e)){const t={type:e.type,target:Fs(e.target),currentTarget:Fs(e.currentTarget),...$s(e)};return typeof CustomEvent<"u"&&Ae(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Fs(e){try{return Nc(e)?Xe(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function $s(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Vc(e,t=40){const n=Object.keys(ao(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return pt(n[0],t);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>t))return r===n.length?s:pt(s,t)}return""}function pe(e){return mr(e,new Map)}function mr(e,t){if(_t(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.keys(e))typeof e[s]<"u"&&(r[s]=mr(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(mr(s,t))}),r}return e}const co=50,Bs=/\(error: (.*)\)/,Hs=/captureMessage|captureException/;function uo(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const c=Bs.test(a)?a.replace(Bs,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){s.push(d);break}}if(s.length>=co)break}}return Xc(s)}}function Kc(e){return Array.isArray(e)?uo(...e):e}function Xc(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Hs.test(t[t.length-1].function||"")&&(t.pop(),Hs.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,co).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const Qn="<anonymous>";function De(e){try{return!e||typeof e!="function"?Qn:e.name||Qn}catch{return Qn}}const gn={},Us={};function Qe(e,t){gn[e]=gn[e]||[],gn[e].push(t)}function et(e,t){Us[e]||(t(),Us[e]=!0)}function Se(e,t){const n=e&&gn[e];if(n)for(const r of n)try{r(t)}catch(s){Ct&&p.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${De(r)}
Error:`,s)}}function Jc(e){const t="console";Qe(t,e),et(t,Zc)}function Zc(){"console"in A&&pr.forEach(function(e){e in A.console&&re(A.console,e,function(t){return bn[e]=t,function(...n){Se("console",{args:n,level:e});const s=bn[e];s&&s.apply(A.console,n)}})})}function se(){const e=A,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function lo(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function $e(e){const{message:t,event_id:n}=e;if(t)return t;const r=lo(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function gr(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function zt(e,t){const n=lo(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};n.mechanism.data=i}}function js(e){if(e&&e.__sentry_captured__)return!0;try{jt(e,"__sentry_captured__",!0)}catch{}return!1}function fo(e){return Array.isArray(e)?e:[e]}const at=A,Qc=1e3;let zs,_r,yr;function ho(e){const t="dom";Qe(t,e),et(t,eu)}function eu(){if(!at.document)return;const e=Se.bind(null,"dom"),t=Ws(e,!0);at.document.addEventListener("click",t,!1),at.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=at[n]&&at[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(re(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},d=u[i]=u[i]||{refCount:0};if(!d.handler){const l=Ws(e);d.handler=l,s.call(this,i,l,a)}d.refCount++}catch{}return s.call(this,i,o,a)}}),re(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},d=u[i];d&&(d.refCount--,d.refCount<=0&&(s.call(this,i,d.handler,a),d.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}function tu(e){if(e.type!==_r)return!1;try{if(!e.target||e.target._sentryId!==yr)return!1}catch{}return!0}function nu(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Ws(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=ru(n);if(nu(n.type,r))return;jt(n,"_sentryCaptured",!0),r&&!r._sentryId&&jt(r,"_sentryId",se());const s=n.type==="keypress"?"input":n.type;tu(n)||(e({event:n,name:s,global:t}),_r=n.type,yr=r?r._sentryId:void 0),clearTimeout(zs),zs=at.setTimeout(()=>{yr=void 0,_r=void 0},Qc)}}function ru(e){try{return e.target}catch{return null}}const Sr=Nn();function po(){if(!("fetch"in Sr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function br(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function su(){if(typeof EdgeRuntime=="string")return!0;if(!po())return!1;if(br(Sr.fetch))return!0;let e=!1;const t=Sr.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=br(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Ct&&p.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Xr(e){const t="fetch";Qe(t,e),et(t,iu)}function iu(){su()&&re(A,"fetch",function(e){return function(...t){const{method:n,url:r}=ou(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Se("fetch",{...s}),e.apply(A,t).then(i=>{const o={...s,endTimestamp:Date.now(),response:i};return Se("fetch",o),i},i=>{const o={...s,endTimestamp:Date.now(),error:i};throw Se("fetch",o),i})}})}function Er(e,t){return!!e&&typeof e=="object"&&!!e[t]}function qs(e){return typeof e=="string"?e:e?Er(e,"url")?e.url:e.toString?e.toString():"":""}function ou(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:qs(n),method:Er(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:qs(t),method:Er(t,"method")?String(t.method).toUpperCase():"GET"}}let sn=null;function mo(e){const t="error";Qe(t,e),et(t,au)}function au(){sn=A.onerror,A.onerror=function(e,t,n,r,s){return Se("error",{column:r,error:s,line:n,msg:e,url:t}),sn&&!sn.__SENTRY_LOADER__?sn.apply(this,arguments):!1},A.onerror.__SENTRY_INSTRUMENTED__=!0}let on=null;function go(e){const t="unhandledrejection";Qe(t,e),et(t,cu)}function cu(){on=A.onunhandledrejection,A.onunhandledrejection=function(e){return Se("unhandledrejection",e),on&&!on.__SENTRY_LOADER__?on.apply(this,arguments):!0},A.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const an=Nn();function uu(){const e=an.chrome,t=e&&e.app&&e.app.runtime,n="history"in an&&!!an.history.pushState&&!!an.history.replaceState;return!t&&n}const Dt=A;let cn;function Ln(e){const t="history";Qe(t,e),et(t,lu)}function lu(){if(!uu())return;const e=Dt.onpopstate;Dt.onpopstate=function(...n){const r=Dt.location.href,s=cn;if(cn=r,Se("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=cn,o=String(s);cn=o,Se("history",{from:i,to:o})}return n.apply(this,r)}}re(Dt.history,"pushState",t),re(Dt.history,"replaceState",t)}const du=A,Be="__sentry_xhr_v3__";function Jr(e){const t="xhr";Qe(t,e),et(t,fu)}function fu(){if(!du.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;re(e,"open",function(t){return function(...n){const r=Date.now(),s=xe(n[0])?n[0].toUpperCase():void 0,i=hu(n[1]);if(!s||!i)return t.apply(this,n);this[Be]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[Be];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Se("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?re(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),re(this,"setRequestHeader",function(a){return function(...c){const[u,d]=c,l=this[Be];return l&&xe(u)&&xe(d)&&(l.request_headers[u.toLowerCase()]=d),a.apply(this,c)}}),t.apply(this,n)}}),re(e,"send",function(t){return function(...n){const r=this[Be];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Se("xhr",s),t.apply(this,n)}})}function hu(e){if(xe(e))return e;try{return e.toString()}catch{}}function pu(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function mu(){return"npm"}function _o(){return!pu()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function gu(e,t){return e.require(t)}function vr(){return typeof window<"u"&&(!_o()||_u())}function _u(){return A.process!==void 0&&A.process.type==="renderer"}function yu(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}function ke(e,t=100,n=1/0){try{return Tr("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function yo(e,t=3,n=100*1024){const r=ke(e,t);return vu(r)>n?yo(e,t-1,n):r}function Tr(e,t,n=1/0,r=1/0,s=yu()){const[i,o]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!Ji(t))return t;const a=Su(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const h=u.toJSON();return Tr("",h,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=ao(t);for(const h in f){if(!Object.prototype.hasOwnProperty.call(f,h))continue;if(l>=r){d[h]="[MaxProperties ~]";break}const m=f[h];d[h]=Tr(h,m,c-1,r,s),l++}return o(t),d}function Su(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Zi(t))return"[VueViewModel]";if(Pc(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${De(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=bu(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function bu(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function Eu(e){return~-encodeURI(e).split(/%..|./).length}function vu(e){return Eu(JSON.stringify(e))}var Oe;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Oe||(Oe={}));function yt(e){return new de(t=>{t(e)})}function Zr(e){return new de((t,n)=>{n(e)})}class de{constructor(t){de.prototype.__init.call(this),de.prototype.__init2.call(this),de.prototype.__init3.call(this),de.prototype.__init4.call(this),this._state=Oe.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new de((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new de((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(Oe.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Oe.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Oe.PENDING){if(It(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Oe.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Oe.RESOLVED&&n[1](this._value),this._state===Oe.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Tu(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function s(o){if(!n())return Zr(new Ie("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new de((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(l=>{yt(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:i}}function er(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const wu=["fatal","error","warning","log","info","debug"];function ku(e){return e==="warn"?"warning":wu.includes(e)?e:"log"}const So=Nn(),wr={nowSeconds:()=>Date.now()/1e3};function Iu(){const{performance:e}=So;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function Ru(){try{return gu(module,"perf_hooks").performance}catch{return}}const tr=_o()?Ru():Iu(),Gs=tr===void 0?wr:{nowSeconds:()=>(tr.timeOrigin+tr.now())/1e3},Pn=wr.nowSeconds.bind(wr),Ne=Gs.nowSeconds.bind(Gs),he=(()=>{const{performance:e}=So;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return i||u?s<=c?e.timeOrigin:o:r})(),kr="baggage",bo="sentry-",Cu=/^sentry-/,xu=8192;function Mu(e){if(!xe(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,s)=>{const i=Ys(s);return{...r,...i}},{});else{if(!e)return;t=Ys(e)}const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Cu)){const o=s.slice(bo.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Ir(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${bo}${r}`]=s),n),{});return Ou(t)}function Ys(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function Ou(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>xu?(Ct&&p.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Au=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Eo(e){if(!e)return;const t=e.match(Au);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function vo(e,t){const n=Eo(e),r=Mu(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{},a={traceId:s||se(),spanId:se().substring(16),sampled:o};return i&&(a.parentSpanId=i),r&&(a.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:a}}function Qr(e=se(),t=se().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function tt(e,t=[]){return[e,t]}function Du(e,t){const[n,r]=e;return[n,[...r,t]]}function St(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Nu(e,t){return St(e,(n,r)=>t.includes(r))}function Rr(e,t){return(t||new TextEncoder).encode(e)}function To(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[Rr(s,t),o]:s.push(typeof o=="string"?Rr(o,t):o)}for(const o of r){const[a,c]=o;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(ke(c))}i(u)}}return typeof s=="string"?s:Lu(s)}function Lu(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Pu(e,t,n){let r=typeof e=="string"?t.encode(e):e;function s(c){const u=r.subarray(0,c);return r=r.subarray(c+1),u}function i(){let c=r.indexOf(10);return c<0&&(c=r.length),JSON.parse(n.decode(s(c)))}const o=i(),a=[];for(;r.length;){const c=i(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?s(u):i()])}return[o,a]}function Fu(e,t){const n=typeof e.data=="string"?Rr(e.data,t):e.data;return[pe({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const $u={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function Vs(e){return $u[e]}function es(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function wo(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:xt(r)},...s&&{trace:pe({...s})}}}function Bu(e,t,n){const r=[{type:"client_report"},{timestamp:n||Pn(),discarded_events:e}];return tt(t?{dsn:t}:{},[r])}const Hu=60*1e3;function ko(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Hu:r-t}function Uu(e,t){return e[t]||e.all||0}function Io(e,t,n=Date.now()){return Uu(e,t)>n}function Ro(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u]=a.split(":",2),d=parseInt(c,10),l=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+l;else for(const f of u.split(";"))s[f]=r+l}else o?s.all=r+ko(o,r):t===429&&(s.all=r+60*1e3);return s}function ju(e,t){return e(t.stack||"",1)}function zu(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=ju(e,t);return r.length&&(n.stacktrace={frames:r}),n}const v=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fn="production";function ts(){return eo("globalEventProcessors",()=>[])}function Wu(e){ts().push(e)}function En(e,t,n,r=0){return new de((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);v&&o.id&&a===null&&p.log(`Event processor "${o.id}" dropped event`),It(a)?a.then(c=>En(e,c,n,r+1).then(s)).then(null,i):En(e,a,n,r+1).then(s).then(null,i)}})}function qu(e){const t=Ne(),n={sid:se(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Yu(n)};return e&&bt(n,e),n}function bt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ne(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:se()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Gu(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),bt(e,n)}function Yu(e){return pe({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function Co(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i,propagationContext:o}=t;Vu(e,t),r&&Ju(e,r),Zu(e,n),Ku(e,s),Xu(e,i,o)}function Ks(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:h,span:m}=t;Nt(e,"extra",n),Nt(e,"tags",r),Nt(e,"user",s),Nt(e,"contexts",i),Nt(e,"sdkProcessingMetadata",a),o&&(e.level=o),h&&(e.transactionName=h),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Nt(e,t,n){n&&Object.keys(n).length&&(e[t]={...e[t],...n})}function Vu(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;n&&Object.keys(n).length&&(e.extra={...n,...e.extra}),r&&Object.keys(r).length&&(e.tags={...r,...e.tags}),s&&Object.keys(s).length&&(e.user={...s,...e.user}),i&&Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function Ku(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Xu(e,t,n){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t,propagationContext:n}}function Ju(e,t){e.contexts={trace:t.getTraceContext(),...e.contexts};const n=t.transaction;if(n){e.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const r=n.name;r&&(e.tags={transaction:r,...e.tags})}}function Zu(e,t){e.fingerprint=e.fingerprint?fo(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const Qu=100;let nr;class Re{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Xs()}static clone(t){return t?t.clone():new Re}clone(){const t=new Re;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&bt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const n=t(this);return n instanceof Re?n:this}return t instanceof Re?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):_t(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Xs(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Qu;if(r<=0)return this;const s={timestamp:Pn(),...t},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:d,_sdkProcessingMetadata:l,_transactionName:f,_span:h}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:d,sdkProcessingMetadata:l,transactionName:f,span:h}}applyToEvent(t,n={},r=[]){Co(t,this.getScopeData());const s=[...r,...ts(),...this._eventProcessors];return En(s,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function el(){return nr||(nr=new Re),nr}function Xs(){return{traceId:se(),spanId:se().substring(16)}}const Cr="7.91.0",xo=parseFloat(Cr),tl=100;class Mo{constructor(t,n=new Re,r=new Re,s=xo){this._version=s,this._stack=[{scope:n}],t&&this.bindClient(t),this._isolationScope=r}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();try{return t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:se(),s=new Error("Sentry syntheticException");return this._withClient((i,o)=>{i.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},o)}),r}captureMessage(t,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:se(),i=new Error(t);return this._withClient((o,a)=>{o.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},a)}),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:se();return t.type||(this._lastEventId=r),this._withClient((s,i)=>{s.captureEvent(t,{...n,event_id:r},i)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=tl}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:Pn(),...t},u=i?Je(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=Js(this);try{t(this)}finally{Js(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return v&&p.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return v&&!r&&(this.getClient()?p.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):p.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Gu(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Fn}=r&&r.getOptions()||{},{userAgent:o}=A.navigator||{},a=qu({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&bt(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(t){const{scope:n,client:r}=this.getStackTop();r&&t(r,n)}_callExtensionMethod(t,...n){const s=Kt().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,n);v&&p.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Kt(){return A.__SENTRY__=A.__SENTRY__||{extensions:{},hub:void 0},A}function Js(e){const t=Kt(),n=xr(t);return Oo(t,e),n}function F(){const e=Kt();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return nl(e)}function ns(){return F().getIsolationScope()}function nl(e=Kt()){return(!rl(e)||xr(e).isOlderThan(xo))&&Oo(e,new Mo),xr(e)}function rl(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function xr(e){return eo("hub",()=>new Mo,e)}function Oo(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Mt(e){return(e||F()).getScope().getTransaction()}const ay=Eo;function rs(e){return e>9999999999?e/1e3:e}let Zs=!1;function sl(){Zs||(Zs=!0,mo(Mr),go(Mr))}function Mr(){const e=Mt();if(e){const t="internal_error";v&&p.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}Mr.tag="sentry_tracingErrorCallback";class Ao{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class ss{constructor(t={}){this.traceId=t.traceId||se(),this.spanId=t.spanId||se().substring(16),this.startTimestamp=t.startTimestamp||Ne(),this.tags=t.tags||{},this.data=t.data||{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.name&&(this.description=t.name),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this.description||""}set name(t){this.setName(t)}startChild(t){const n=new ss({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,v&&n.transaction){const r=t&&t.op||"< unknown op >",s=n.transaction.name||"< unknown name >",i=n.transaction.spanId,o=`[Tracing] Starting '${r}' span on transaction '${s}' (${i}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:o},p.log(o)}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);const n=il(t);return n!=="unknown_error"&&this.setStatus(n),this}setName(t){this.description=t}isSuccess(){return this.status==="ok"}finish(t){return this.end(t)}end(t){if(v&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&p.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof t=="number"?rs(t):Ne()}toTraceparent(){return Qr(this.traceId,this.spanId,this.sampled)}toContext(){return pe({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return pe({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return pe({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}function il(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function $n(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=pe({environment:r.environment||Fn,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",o),o}class Do extends ss{constructor(t,n){super(t),delete this.description,this._measurements={},this._contexts={},this._hub=n||F(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const r=this.metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}setName(t,n="custom"){this._name=t,this.metadata.source=n}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Ao(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this.metadata={...this.metadata,...t}}end(t){const n=typeof t=="number"?rs(t):Ne(),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return pe({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||F(),n=t.getClient();if(!n)return{};const r=t.getScope(),s=$n(this.traceId,n,r),i=this.metadata.sampleRate;i!==void 0&&(s.sample_rate=`${i}`);const o=this.metadata.source;return o&&o!=="url"&&(s.transaction=this.name),this.sampled!==void 0&&(s.sampled=String(this.sampled)),s}setHub(t){this._hub=t}_finishTransaction(t){if(this.endTimestamp!==void 0)return;this.name||(v&&p.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this.sampled!==!0){v&&p.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((a,c)=>a.endTimestamp&&c.endTimestamp?a.endTimestamp>c.endTimestamp?a:c:a).endTimestamp);const s=this.metadata,i={contexts:{...this._contexts,trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...s,dynamicSamplingContext:this.getDynamicSamplingContext()},...s.source&&{transaction_info:{source:s.source}}};return Object.keys(this._measurements).length>0&&(v&&p.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),v&&p.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),i}}const _n={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},ol="finishReason",st=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class al extends Ao{constructor(t,n,r,s){super(s),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanId),n.apply(t,r)),t.endTimestamp===void 0&&this._pushActivity(t.spanId)}super.add(t)}}class cl extends Do{constructor(t,n,r=_n.idleTimeout,s=_n.finalTimeout,i=_n.heartbeatInterval,o=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=st[4],o&&(v&&p.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.getScope().setSpan(this)),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=st[3],this.end())},this._finalTimeout)}end(t=Ne()){const n=rs(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(ol,this._finishReason),this.spanRecorder){v&&p.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanId===this.spanId)return!0;r.endTimestamp||(r.endTimestamp=n,r.setStatus("cancelled"),v&&p.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const s=r.startTimestamp<n,i=(this._finalTimeout+this._idleTimeout)/1e3,o=r.endTimestamp-this.startTimestamp<i;if(v){const a=JSON.stringify(r,void 0,2);s?o||p.log("[Tracing] discarding Span since it finished after Transaction final timeout",a):p.log("[Tracing] discarding Span since it happened after Transaction was finished",a)}return s&&o}),v&&p.log("[Tracing] flushing IdleTransaction")}else v&&p.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new al(n,r,this.spanId,t),v&&p.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=st[5],this.end(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=st[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),v&&p.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,v&&p.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(v&&p.log(`[Tracing] popActivity ${t}`),delete this.activities[t],v&&p.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=Ne();this._idleTimeoutCanceledPermanently?(this._finishReason=st[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(v&&p.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=st[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){v&&p.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function is(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||se(),timestamp:t.timestamp||Pn()},u=n.integrations||e.integrations.map(_=>_.name);ul(c,e),fl(c,u),t.type===void 0&&ll(c,e.stackParser);const d=pl(r,n.captureContext);n.mechanism&&zt(c,n.mechanism);const l=s&&s.getEventProcessors?s.getEventProcessors():[],f=el().getScopeData();if(i){const _=i.getScopeData();Ks(f,_)}if(d){const _=d.getScopeData();Ks(f,_)}const h=[...n.attachments||[],...f.attachments];h.length&&(n.attachments=h),Co(c,f);const m=[...l,...ts(),...f.eventProcessors];return En(m,c,n).then(_=>(_&&dl(_),typeof o=="number"&&o>0?hl(_,o,a):_))}function ul(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:Fn),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=pt(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=pt(o.value,i));const a=e.request;a&&a.url&&(a.url=pt(a.url,i))}const Qs=new WeakMap;function ll(e,t){const n=A._sentryDebugIds;if(!n)return;let r;const s=Qs.get(t);s?r=s:(r=new Map,Qs.set(t,r));const i=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){const l=c[d];if(l.filename){o[l.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function dl(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function fl(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function hl(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:ke(s.data,t,n)}}))},...e.user&&{user:ke(e.user,t,n)},...e.contexts&&{contexts:ke(e.contexts,t,n)},...e.extra&&{extra:ke(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ke(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>(s.data&&(s.data=ke(s.data,t,n)),s))),r}function pl(e,t){if(!t)return e;const n=e?e.clone():new Re;return n.update(t),n}function ml(e){if(e)return gl(e)?{captureContext:e}:yl(e)?{captureContext:e}:e}function gl(e){return e instanceof Re||typeof e=="function"}const _l=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function yl(e){return Object.keys(e).some(t=>_l.includes(t))}function os(e,t){return F().captureException(e,ml(t))}function cy(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return F().captureMessage(e,n,r)}function No(e,t){return F().captureEvent(e,t)}function uy(e){F().configureScope(e)}function je(e,t){F().addBreadcrumb(e,t)}function Sl(e,t){F().setContext(e,t)}function ly(e){F().setExtras(e)}function dy(e,t){F().setExtra(e,t)}function fy(e){F().setTags(e)}function hy(e,t){F().setTag(e,t)}function py(e){F().setUser(e)}function Bn(e){return F().withScope(e)}function my(e,t){return F().startTransaction({...e},t)}async function gy(e){const t=P();return t?t.flush(e):(v&&p.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function _y(e){const t=P();return t?t.close(e):(v&&p.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function yy(){return F().lastEventId()}function P(){return F().getClient()}function be(){return F().getScope()}function Xt(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=P(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Lo(e,t,n){if(!Xt(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})):(r=1,e.setMetadata({sampleRate:r})),bl(r)?r?(e.sampled=Math.random()<r,e.sampled?(v&&p.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(v&&p.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(v&&p.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(v&&p.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function bl(e){return Ji(e)||!(typeof e=="number"||typeof e=="boolean")?(v&&p.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(v&&p.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function El(){const t=this.getScope().getSpan();return t?{"sentry-trace":t.toTraceparent()}:{}}function vl(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&(v&&p.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let o=new Do(e,this);return o=Lo(o,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),o.sampled&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function ei(e,t,n,r,s,i,o){const a=e.getClient(),c=a&&a.getOptions()||{};let u=new cl(t,e,n,r,o,s);return u=Lo(u,c,{parentSampled:t.parentSampled,transactionContext:t,...i}),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function Tl(){const e=Kt();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=vl),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=El),sl())}function Sy(e,t,n=()=>{},r=()=>{}){const s=cs(e),i=F(),o=be(),a=o.getSpan(),c=as(i,a,s);o.setSpan(c);function u(){c&&c.end(),o.setSpan(a)}let d;try{d=t(c)}catch(l){throw c&&c.setStatus("internal_error"),n(l,c),u(),r(),l}return It(d)?d.then(l=>(u(),r(),l),l=>{throw c&&c.setStatus("internal_error"),n(l,c),u(),r(),l}):(u(),r(),d)}function by(e,t){const n=cs(e);return Bn(r=>{const s=F(),i=r.getSpan(),o=as(s,i,n);r.setSpan(o);function a(){o&&o.end()}let c;try{c=t(o)}catch(u){throw o&&o.setStatus("internal_error"),a(),u}return It(c)?c.then(u=>(a(),u),u=>{throw o&&o.setStatus("internal_error"),a(),u}):(a(),c)})}function Ey(e,t){const n=cs(e);return Bn(r=>{const s=F(),i=r.getSpan(),o=as(s,i,n);r.setSpan(o);function a(){o&&o.end()}let c;try{c=t(o,a)}catch(u){throw o&&o.setStatus("internal_error"),u}return It(c)?c.then(u=>u,u=>{throw o&&o.setStatus("internal_error"),u}):c})}function vy(e){if(!Xt())return;const t={...e};t.name!==void 0&&t.description===void 0&&(t.description=t.name);const n=F(),r=wl();return r?r.startChild(t):n.startTransaction(t)}function wl(){return be().getSpan()}function Ty({sentryTrace:e,baggage:t},n){const r=be(),{traceparentData:s,dynamicSamplingContext:i,propagationContext:o}=vo(e,t);r.setPropagationContext(o),v&&s&&p.log(`[Tracing] Continuing trace ${s.traceId}.`);const a={...s,metadata:pe({dynamicSamplingContext:s&&!i?{}:i})};return n?n(a):a}function as(e,t,n){if(Xt())return t?t.startChild(n):e.startTransaction(n)}function cs(e){const t={...e};return t.name!==void 0&&t.description===void 0&&(t.description=t.name),t}function wy(e,t,n){const r=Mt();r&&r.setMeasurement(e,t,n)}function kl(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Il(e,t,n,r){const s=es(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:xt(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return tt(i,[o])}function Po(e,t,n,r){const s=es(n),i=e.type&&e.type!=="replay_event"?e.type:"event";kl(e,n&&n.sdk);const o=wo(e,s,r,t);return delete e.sdkProcessingMetadata,tt(o,[[{type:i},e]])}const Rl="7";function Fo(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Cl(e){return`${Fo(e)}${e.projectId}/envelope/`}function xl(e,t){return Yc({sentry_key:e.publicKey,sentry_version:Rl,...t&&{sentry_client:`${t.name}/${t.version}`}})}function $o(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Cl(e)}?${xl(e,r)}`}function Ml(e,t){const n=io(e);if(!n)return"";const r=`${Fo(n)}embed/error-page/`;let s=`dsn=${xt(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const ti=[];function Ol(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function Al(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=fo(n(t)):r=t;const s=Ol(r),i=Nl(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function Dl(e,t){const n={};return t.forEach(r=>{r&&Bo(e,r,n)}),n}function Bo(e,t,n){if(n[t.name]=t,ti.indexOf(t.name)===-1&&(t.setupOnce(Wu,F),ti.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}v&&p.log(`Integration installed: ${t.name}`)}function ky(e){const t=P();if(!t||!t.addIntegration){v&&p.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Nl(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function me(e,t){return Object.assign(function(...r){return{setupOnce:()=>{},...t(...r)}},{id:e})}const Ho="c",Uo="g",jo="s",zo="d",Wo=/[^a-zA-Z0-9_/.-]+/g,Ll=/[^\w\d_:/@.{}[\]$-]+/g,Pl=5e3;function Fl(e,t,n,r){const s=Object.entries(pe(r)).sort((i,o)=>i[0].localeCompare(o[0]));return`${e}${t}${n}${s}`}function $l(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Bl(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([i,o])=>`${i}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function Hl(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=n.replace(Wo,"_");t[r]=String(e[n]).replace(Ll,"_")}return t}function Ul(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=xt(t));const i=jl(e);return tt(s,[i])}function jl(e){const t=Bl(e);return[{type:"statsd",length:t.length},t]}const ni="Not capturing exception because it's already been captured.";class zl{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=io(t.dsn):v&&p.warn("No DSN provided, client will not send events."),this._dsn){const n=$o(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(js(t)){v&&p.log(ni);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(t,n,r,s){let i=r&&r.event_id;const o=Vr(t)?this.eventFromMessage(String(t),n,r):this.eventFromException(t,r);return this._process(o.then(a=>this._captureEvent(a,r,s)).then(a=>{i=a})),i}captureEvent(t,n,r){if(n&&n.originalException&&js(n.originalException)){v&&p.log(ni);return}let s=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(i=>{s=i})),s}captureSession(t){typeof t.release!="string"?v&&p.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),bt(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):yt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=Dl(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return v&&p.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){Bo(this,t,this._integrations)}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Po(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Du(r,Fu(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=Il(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=`${t}:${n}`;v&&p.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}captureAggregateMetrics(t){v&&p.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Ul(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_updateSessionFromEvent(t,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(bt(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new de(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s=ns()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),is(i,t,n,r,this,s).then(a=>{if(a===null)return a;const{propagationContext:c}=a.sdkProcessingMetadata||{};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:d,spanId:l,parentSpanId:f,dsc:h}=c;a.contexts={trace:{trace_id:d,span_id:l,parent_span_id:f},...a.contexts};const m=h||$n(d,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:m,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(v){const i=s;i.logLevel==="log"?p.log(i.message):p.warn(i)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=Go(t),a=qo(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),Zr(new Ie(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const d=c==="replay_event"?"replay":c;return this._prepareEvent(t,n,r).then(l=>{if(l===null)throw this.recordDroppedEvent("event_processor",d,t),new Ie("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return l;const h=ql(s,l,n);return Wl(h,u)}).then(l=>{if(l===null)throw this.recordDroppedEvent("before_send",d,t),new Ie(`${u} returned \`null\`, will not send event.`,"log");const f=r&&r.getSession();!o&&f&&this._updateSessionFromEvent(f,l);const h=l.transaction_info;if(o&&h&&l.transaction!==t.transaction){const m="custom";l.transaction_info={...h,source:m}}return this.sendEvent(l,n),l}).then(null,l=>{throw l instanceof Ie?l:(this.captureException(l,{data:{__sentry__:!0},originalException:l}),new Ie(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${l}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{v&&p.error("Error while sending event:",n)});v&&p.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:t[n]}})}}function Wl(e,t){const n=`${t} must return \`null\` or a valid event.`;if(It(e))return e.then(r=>{if(!_t(r)&&r!==null)throw new Ie(n);return r},r=>{throw new Ie(`${t} rejected with ${r}`)});if(!_t(e)&&e!==null)throw new Ie(n);return e}function ql(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;return qo(t)&&r?r(t,n):Go(t)&&s?s(t,n):t}function qo(e){return e.type===void 0}function Go(e){return e.type==="transaction"}function Gl(e){const t=P();!t||!t.addEventProcessor||t.addEventProcessor(e)}class Yl{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class Vl{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class Kl{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class Xl{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?$l(t):t).join(":")}}const Jl={[Ho]:Yl,[Uo]:Vl,[zo]:Kl,[jo]:Xl};function Zl(e,t){t.debug===!0&&(v?p.enable():Je(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));const n=F();n.getScope().update(t.initialScope);const s=new e(t);n.bindClient(s)}const Ql=30;function Yo(e,t,n=Tu(e.bufferSize||Ql)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(St(o,(l,f)=>{const h=Vs(f);if(Io(r,h)){const m=ri(l,f);e.recordDroppedEvent("ratelimit_backoff",h,m)}else a.push(l)}),a.length===0)return yt();const c=tt(o[0],a),u=l=>{St(c,(f,h)=>{const m=ri(f,h);e.recordDroppedEvent(l,Vs(h),m)})},d=()=>t({body:To(c,e.textEncoder)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&v&&p.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Ro(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof Ie)return v&&p.error("Skipped sending event because buffer is full."),u("queue_overflow"),yt();throw l})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function ri(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const ed=100,si=5e3,td=36e5;function rr(e,t){v&&p.info(`[Offline]: ${e}`,t)}function nd(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let s=si,i;function o(d,l,f){return Nu(d,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(d,l,f):!0}function a(d){r&&(i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const l=await r.pop();l&&(rr("Attempting to send previously queued event"),u(l).catch(f=>{rr("Failed to retry sending",f)}))},d),typeof i!="number"&&i.unref&&i.unref())}function c(){i||(a(s),s=Math.min(s*2,td))}async function u(d){try{const l=await n.send(d);let f=ed;if(l){if(l.headers&&l.headers["retry-after"])f=ko(l.headers["retry-after"]);else if((l.statusCode||0)>=400)return l}return a(f),s=si,l}catch(l){if(r&&await o(d,l,s))return await r.insert(d),c(),rr("Error sending. Event queued",l),{};throw l}}return t.flushAtStartup&&c(),{send:u,flush:d=>n.flush(d)}}}function Vo(e,t){let n;return St(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function rd(e,t){return n=>{const r=e(n);return{send:async s=>{const i=Vo(s,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(s)},flush:s=>r.flush(s)}}}function Iy(e,t){return n=>{const r=e(n),s={};function i(c,u){const d=u?`${c}:${u}`:c;if(!s[d]){const l=ro(c);if(!l)return;const f=$o(l);s[d]=u?rd(e,u)({...n,url:f}):e({...n,url:f})}return s[d]}async function o(c){function u(f){const h=f&&f.length?f:["event"];return Vo(c,h)}const d=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f);return d.length===0&&d.push(r),(await Promise.all(d.map(f=>f.send(c))))[0]}async function a(c){const u=[...Object.keys(s).map(l=>s[l]),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:o,flush:a}}}let ii;const Ko="FunctionToString",sd=()=>({name:Ko,setupOnce(){ii=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Kr(this)||this;return ii.apply(t,e)}}catch{}}}),Xo=me(Ko,sd),id=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],od=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Jo="InboundFilters",ad=e=>({name:Jo,processEvent(t,n,r){const s=r.getOptions(),i=cd(e,s);return ud(t,i)?null:t}}),Zo=me(Jo,ad);function cd(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:id],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:od],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function ud(e,t){return t.ignoreInternal&&md(e)?(v&&p.warn(`Event dropped due to being internal Sentry Error.
Event: ${$e(e)}`),!0):ld(e,t.ignoreErrors)?(v&&p.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$e(e)}`),!0):dd(e,t.ignoreTransactions)?(v&&p.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$e(e)}`),!0):fd(e,t.denyUrls)?(v&&p.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$e(e)}.
Url: ${vn(e)}`),!0):hd(e,t.allowUrls)?!1:(v&&p.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$e(e)}.
Url: ${vn(e)}`),!0)}function ld(e,t){return e.type||!t||!t.length?!1:pd(e).some(n=>Rt(n,t))}function dd(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Rt(n,t):!1}function fd(e,t){if(!t||!t.length)return!1;const n=vn(e);return n?Rt(n,t):!1}function hd(e,t){if(!t||!t.length)return!0;const n=vn(e);return n?Rt(n,t):!0}function pd(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),v&&t.length===0&&p.error(`Could not extract message for event ${$e(e)}`),t}function md(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function gd(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function vn(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?gd(t):null}catch{return v&&p.error(`Cannot extract url for event ${$e(e)}`),null}}const _d="cause",yd=5,Qo="LinkedErrors",Sd=(e={})=>{const t=e.limit||yd,n=e.key||_d;return{name:Qo,preprocessEvent(r,s,i){const o=i.getOptions();Qi(zu,o.stackParser,o.maxValueLength,n,t,r,s)}}},bd=me(Qo,Sd),Ed=Object.freeze(Object.defineProperty({__proto__:null,FunctionToString:Xo,InboundFilters:Zo,LinkedErrors:bd},Symbol.toStringTag,{value:"Module"}));function vd(e,t){const n=t&&kd(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return wd(e,r)||Td(e,s)}function Td(e,t){return t?oi(e)===oi(t):!1}function wd(e,t){return t?e.includes(t.host):!1}function oi(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function kd(e){return e.getClient!==void 0}const ea=new Map,ai=new Set;function Id(e){if(A._sentryModuleMetadata)for(const t of Object.keys(A._sentryModuleMetadata)){const n=A._sentryModuleMetadata[t];if(ai.has(t))continue;ai.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){ea.set(s.filename,n);break}}}function Rd(e,t){return Id(e),ea.get(t)}function Cd(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename)continue;const s=Rd(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function xd(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const ta="ModuleMetadata",Md=()=>({name:ta,setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{St(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(xd(s),n[1]=s)}})})},processEvent(e,t,n){const r=n.getOptions().stackParser;return Cd(r,e),e}}),Ry=me(ta,Md);class Od{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),Pl)}add(t,n,r,s="none",i={},o=Ne()){const a=Math.floor(o),c=n.replace(Wo,"_"),u=Hl(i),d=Fl(t,c,s,u),l=this._buckets.get(d);l?(l.metric.add(r),l.timestamp<a&&(l.timestamp=a)):this._buckets.set(d,{metric:new Jl[t](r),timestamp:a,metricType:t,name:c,unit:s,tags:u})}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){const t=Array.from(this._buckets).map(([,n])=>n);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const na="MetricsAggregator",Ad=()=>({name:na,setup(e){e.metricsAggregator=new Od(e)}}),Dd=me(na,Ad);function Hn(e,t,n,r={}){const s=P(),i=be();if(s){if(!s.metricsAggregator){v&&p.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}const{unit:o,tags:a,timestamp:c}=r,{release:u,environment:d}=s.getOptions(),l=i.getTransaction(),f={};u&&(f.release=u),d&&(f.environment=d),l&&(f.transaction=l.name),v&&p.log(`Adding value of ${n} to ${e} metric ${t}`),s.metricsAggregator.add(e,t,n,o,{...f,...a},c)}}function Nd(e,t=1,n){Hn(Ho,e,t,n)}function Ld(e,t,n){Hn(zo,e,t,n)}function Pd(e,t,n){Hn(jo,e,t,n)}function Fd(e,t,n){Hn(Uo,e,t,n)}const Cy={increment:Nd,distribution:Ld,set:Pd,gauge:Fd,MetricsAggregator:Dd},w=A;let Or=0;function ra(){return Or>0}function $d(){Or++,setTimeout(()=>{Or--})}function Ze(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return s;if(Kr(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=s.map(o=>Ze(o,t));return e.apply(this,i)}catch(i){throw $d(),Bn(o=>{o.addEventProcessor(a=>(t.mechanism&&(gr(a,void 0,void 0),zt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),os(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}oo(r,e),jt(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const N=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function sa(e,t){const n=us(e,t),r={type:t&&t.name,value:jd(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Bd(e,t,n,r){const s=P(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:Dn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:qd(t,{isUnhandledRejection:r})}]},extra:{__serialized__:yo(t,i)}};if(n){const a=us(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function sr(e,t){return{exception:{values:[sa(e,t)]}}}function us(e,t){const n=t.stacktrace||t.stack||"",r=Ud(t);try{return e(n,r)}catch{}return[]}const Hd=/Minified React error #\d+;/i;function Ud(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(Hd.test(e.message))return 1}return 0}function jd(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function zd(e,t,n,r){const s=n&&n.syntheticException||void 0,i=ls(e,t,s,r);return zt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),yt(i)}function Wd(e,t,n="info",r,s){const i=r&&r.syntheticException||void 0,o=Ar(e,t,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),yt(o)}function ls(e,t,n,r,s){let i;if(Yr(t)&&t.error)return sr(e,t.error);if(Ds(t)||Dc(t)){const o=t;if("stack"in t)i=sr(e,t);else{const a=o.name||(Ds(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=Ar(e,c,n,r),gr(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Xi(t)?sr(e,t):_t(t)||Dn(t)?(i=Bd(e,t,n,s),zt(i,{synthetic:!0}),i):(i=Ar(e,t,n,r),gr(i,`${t}`,void 0),zt(i,{synthetic:!0}),i)}function Ar(e,t,n,r){const s={message:t};if(r&&n){const i=us(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}return s}function qd(e,{isUnhandledRejection:t}){const n=Vc(e),r=t?"promise rejection":"exception";return Yr(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Dn(e)?`Event \`${Gd(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Gd(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Yd(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:xt(r)}},i=Vd(e);return tt(s,[i])}function Vd(e){return[{type:"user_report"},e]}class Kd extends zl{constructor(t){const n=w.SENTRY_SDK_SOURCE||mu();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:Cr}],version:Cr},super(t),t.sendClientReports&&w.document&&w.document.addEventListener("visibilitychange",()=>{w.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return zd(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Wd(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){N&&p.warn("SDK not enabled, will not capture user feedback.");return}const n=Yd(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){N&&p.log("No outcomes to send");return}if(!this._dsn){N&&p.log("No dsn provided, will not send outcomes");return}N&&p.log("Sending outcomes:",t);const n=Bu(t,this._options.tunnel&&xt(this._dsn));this._sendEnvelope(n)}}let Pt;function Xd(){if(Pt)return Pt;if(br(w.fetch))return Pt=w.fetch.bind(w);const e=w.document;let t=w.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){N&&p.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Pt=t.bind(w)}function Jd(){Pt=void 0}function Zd(e,t=Xd()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Jd(),n-=o,r--,Zr(c)}}return Yo(e,s)}const Qd=4;function ef(e){function t(n){return new de((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===Qd&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(n.body)})}return Yo(e,t)}const Ot="?",tf=10,nf=20,rf=30,sf=40,of=50;function Jt(e,t,n,r){const s={filename:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const af=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,cf=/\((\S*)(?::(\d+))(?::(\d+))\)/,uf=e=>{const t=af.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=cf.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,s]=ia(t[1]||Ot,t[2]);return Jt(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},lf=[rf,uf],df=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ff=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,hf=e=>{const t=df.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=ff.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||Ot;return[s,r]=ia(s,r),Jt(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},pf=[of,hf],mf=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,gf=e=>{const t=mf.exec(e);return t?Jt(t[2],t[1]||Ot,+t[3],t[4]?+t[4]:void 0):void 0},_f=[sf,gf],yf=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Sf=e=>{const t=yf.exec(e);return t?Jt(t[2],t[3]||Ot,+t[1]):void 0},xy=[tf,Sf],bf=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Ef=e=>{const t=bf.exec(e);return t?Jt(t[5],t[3]||t[4]||Ot,+t[1],+t[2]):void 0},My=[nf,Ef],vf=[lf,pf,_f],Tf=uo(...vf),ia=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Ot,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},oa="GlobalHandlers",wf=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:oa,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(kf(n),ci("onerror")),t.onunhandledrejection&&(If(n),ci("onunhandledrejection"))}}},aa=me(oa,wf);function kf(e){mo(t=>{const{stackParser:n,attachStacktrace:r}=ua();if(P()!==e||ra())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=c===void 0&&xe(s)?xf(s,i,o,a):ca(ls(n,c||s,void 0,r,!1),i,o,a);u.level="error",No(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function If(e){go(t=>{const{stackParser:n,attachStacktrace:r}=ua();if(P()!==e||ra())return;const s=Rf(t),i=Vr(s)?Cf(s):ls(n,s,void 0,r,!0);i.level="error",No(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Rf(e){if(Vr(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function Cf(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function xf(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=Yr(e)?e.message:e,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),ca({exception:{values:[{type:o,value:i}]}},t,n,r)}function ca(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,l=xe(t)&&t.length>0?t:to();return c.length===0&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),e}function ci(e){N&&p.log(`Global Handler attached: ${e}`)}function ua(){const e=P();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Mf=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],la="TryCatch",Of=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:la,setupOnce(){t.setTimeout&&re(w,"setTimeout",ui),t.setInterval&&re(w,"setInterval",ui),t.requestAnimationFrame&&re(w,"requestAnimationFrame",Af),t.XMLHttpRequest&&"XMLHttpRequest"in w&&re(XMLHttpRequest.prototype,"send",Df);const n=t.eventTarget;n&&(Array.isArray(n)?n:Mf).forEach(Nf)}}},da=me(la,Of);function ui(e){return function(...t){const n=t[0];return t[0]=Ze(n,{mechanism:{data:{function:De(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Af(e){return function(t){return e.apply(this,[Ze(t,{mechanism:{data:{function:"requestAnimationFrame",handler:De(e)},handled:!1,type:"instrument"}})])}}function Df(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&re(n,s,function(i){const o={mechanism:{data:{function:s,handler:De(i)},handled:!1,type:"instrument"}},a=Kr(i);return a&&(o.mechanism.data.handler=De(a)),Ze(i,o)})}),e.apply(this,t)}}function Nf(e){const t=w,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(re(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Ze(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:De(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Ze(i,{mechanism:{data:{function:"addEventListener",handler:De(i),target:e},handled:!1,type:"instrument"}}),o])}}),re(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,o)}catch{}return r.call(this,s,a,o)}}))}const un=1024,fa="Breadcrumbs",Lf=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:fa,setup(n){t.console&&Jc($f(n)),t.dom&&ho(Ff(n,t.dom)),t.xhr&&Jr(Bf(n)),t.fetch&&Xr(Hf(n)),t.history&&Ln(Uf(n)),t.sentry&&n.on&&n.on("beforeSendEvent",Pf(n))}}},ha=me(fa,Lf);function Pf(e){return function(n){P()===e&&je({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:$e(n)},{event:n})}}function Ff(e,t){return function(r){if(P()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>un&&(N&&p.warn(`\`dom.maxStringLength\` cannot exceed ${un}, but a value of ${a} was configured. Sentry will use ${un} instead.`),a=un),typeof o=="string"&&(o=[o]);try{const u=r.event,d=jf(u)?u.target:u;s=Xe(d,{keyAttrs:o,maxStringLength:a}),i=no(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),je(c,{event:r.event,name:r.name,global:r.global})}}function $f(e){return function(n){if(P()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:ku(n.level),message:Ns(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ns(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;je(r,{input:n.args,level:n.level})}}function Bf(e){return function(n){if(P()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[Be];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,d={method:o,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};je({category:"xhr",data:d,type:"http"},l)}}function Hf(e){return function(n){if(P()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};je({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s};je({category:"fetch",data:o,type:"http"},a)}}}function Uf(e){return function(n){if(P()!==e)return;let r=n.from,s=n.to;const i=er(w.location.href);let o=r?er(r):void 0;const a=er(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),je({category:"navigation",data:{from:r,to:s}})}}function jf(e){return!!e&&!!e.target}const zf="cause",Wf=5,pa="LinkedErrors",qf=(e={})=>{const t=e.limit||Wf,n=e.key||zf;return{name:pa,preprocessEvent(r,s,i){const o=i.getOptions();Qi(sa,o.stackParser,o.maxValueLength,n,t,r,s)}}},ma=me(pa,qf),ga="HttpContext",Gf=()=>({name:ga,preprocessEvent(e){if(!w.navigator&&!w.location&&!w.document)return;const t=e.request&&e.request.url||w.location&&w.location.href,{referrer:n}=w.document||{},{userAgent:r}=w.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),_a=me(ga,Gf),ya="Dedupe",Yf=()=>{let e;return{name:ya,processEvent(t){if(t.type)return t;try{if(Vf(t,e))return N&&p.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Sa=me(ya,Yf);function Vf(e,t){return t?!!(Kf(e,t)||Xf(e,t)):!1}function Kf(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Ea(e,t)||!ba(e,t))}function Xf(e,t){const n=li(t),r=li(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Ea(e,t)||!ba(e,t))}function ba(e,t){let n=di(e),r=di(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Ea(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function li(e){return e.exception&&e.exception.values&&e.exception.values[0]}function di(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const Jf=[new Zo,new Xo,new da,new ha,new aa,new ma,new Sa,new _a];function Oy(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=Jf),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),w.SENTRY_RELEASE&&w.SENTRY_RELEASE.id&&(e.release=w.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:Kc(e.stackParser||Tf),integrations:Al(e),transport:e.transport||(po()?Zd:ef)};Zl(Kd,t),e.autoSessionTracking&&Zf()}function Ay(e={},t=F()){if(!w.document){N&&p.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s){N&&p.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=w.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Ml(s,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{o()}finally{w.removeEventListener("message",c)}};w.addEventListener("message",c)}const a=w.document.head||w.document.body;a?a.appendChild(i):N&&p.error("Not injecting report dialog. No injection point found in HTML")}function Dy(){}function Ny(e){e()}function Ly(e){return Ze(e)()}function fi(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function Zf(){if(typeof w.document>"u"){N&&p.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const e=F();e.captureSession&&(fi(e),Ln(({from:t,to:n})=>{t!==void 0&&t!==n&&fi(F())}))}function Py(e){const t=P();t&&t.captureUserFeedback(e)}const Qf=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:ha,Dedupe:Sa,GlobalHandlers:aa,HttpContext:_a,LinkedErrors:ma,TryCatch:da},Symbol.toStringTag,{value:"Module"})),V=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,H=A;function eh(){H&&H.document?H.document.addEventListener("visibilitychange",()=>{const e=Mt();if(H.document.hidden&&e){const t="cancelled";V&&p.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):V&&p.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const ds=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||r===void 0)&&(r=t.value,t.delta=s,e(t)))}},th=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,nh=()=>{const e=H.performance.timing,t=H.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},va=()=>H.__WEB_VITALS_POLYFILL__?H.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||nh()):H.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Ta=()=>{const e=va();return e&&e.activationStart||0},fs=(e,t)=>{const n=va();let r="navigate";return n&&(H.document.prerendering||Ta()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:th(),navigationType:r}},Un=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{t(s.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},jn=(e,t)=>{const n=r=>{(r.type==="pagehide"||H.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},rh=e=>{const t=fs("CLS",0);let n,r=0,s=[];const i=a=>{a.forEach(c=>{if(!c.hadRecentInput){const u=s[0],d=s[s.length-1];r&&s.length!==0&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,s.push(c)):(r=c.value,s=[c]),r>t.value&&(t.value=r,t.entries=s,n&&n())}})},o=Un("layout-shift",i);if(o){n=ds(e,t);const a=()=>{i(o.takeRecords()),n(!0)};return jn(a),a}};let yn=-1;const sh=()=>H.document.visibilityState==="hidden"&&!H.document.prerendering?0:1/0,ih=()=>{jn(({timeStamp:e})=>{yn=e},!0)},hs=()=>(yn<0&&(yn=sh(),ih()),{get firstHiddenTime(){return yn}}),oh=e=>{const t=hs(),n=fs("FID");let r;const s=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=Un("first-input",i);r=ds(e,n),o&&jn(()=>{i(o.takeRecords()),o.disconnect()},!0)},hi={},ah=e=>{const t=hs(),n=fs("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-Ta(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=Un("largest-contentful-paint",s);if(i){r=ds(e,n);const o=()=>{hi[n.id]||(s(i.takeRecords()),i.disconnect(),hi[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),jn(o,!0),o}},Ft={},Tn={};let wa,ka,Ia;function ch(e){return ps("cls",e,lh,wa)}function Ra(e){return ps("lcp",e,fh,Ia)}function uh(e){return ps("fid",e,dh,ka)}function zn(e,t){return Ca(e,t),Tn[e]||(hh(e),Tn[e]=!0),xa(e,t)}function Wn(e,t){const n=Ft[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){V&&p.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${De(r)}
Error:`,s)}}function lh(){rh(e=>{Wn("cls",{metric:e}),wa=e})}function dh(){oh(e=>{Wn("fid",{metric:e}),ka=e})}function fh(){ah(e=>{Wn("lcp",{metric:e}),Ia=e})}function ps(e,t,n,r){return Ca(e,t),Tn[e]||(n(),Tn[e]=!0),r&&t({metric:r}),xa(e,t)}function hh(e){const t={};e==="event"&&(t.durationThreshold=0),Un(e,n=>{Wn(e,{entries:n})},t)}function Ca(e,t){Ft[e]=Ft[e]||[],Ft[e].push(t)}function xa(e,t){return()=>{const n=Ft[e];if(!n)return;const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}function ir(e){return typeof e=="number"&&isFinite(e)}function Et(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const ph=2147483647;function te(e){return e/1e3}function Ma(){return H&&H.addEventListener&&H.performance}let pi=0,K={},we,$t;function mh(){const e=Ma();if(e&&he){e.mark&&H.performance.mark("sentry-tracing-init");const t=bh(),n=yh(),r=Sh();return()=>{t(),n(),r()}}return()=>{}}function gh(){zn("longtask",({entries:e})=>{for(const t of e){const n=Mt();if(!n)return;const r=te(he+t.startTime),s=te(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function _h(){zn("event",({entries:e})=>{for(const t of e){const n=Mt();if(!n)return;if(t.name==="click"){const r=te(he+t.startTime),s=te(t.duration),i={description:Xe(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=no(t.target);o&&(i.data={"ui.component_name":o}),n.startChild(i)}}})}function yh(){return ch(({metric:e})=>{const t=e.entries.pop();t&&(V&&p.log("[Measurements] Adding CLS"),K.cls={value:e.value,unit:""},$t=t)})}function Sh(){return Ra(({metric:e})=>{const t=e.entries.pop();t&&(V&&p.log("[Measurements] Adding LCP"),K.lcp={value:e.value,unit:"millisecond"},we=t)})}function bh(){return uh(({metric:e})=>{const t=e.entries.pop();if(!t)return;const n=te(he),r=te(t.startTime);V&&p.log("[Measurements] Adding FID"),K.fid={value:e.value,unit:"millisecond"},K["mark.fid"]={value:n+r,unit:"second"}})}function Eh(e){const t=Ma();if(!t||!H.performance.getEntries||!he)return;V&&p.log("[Tracing] Adding & adjusting spans using Performance API");const n=te(he),r=t.getEntries();let s,i;if(r.slice(pi).forEach(o=>{const a=te(o.startTime),c=te(o.duration);if(!(e.op==="navigation"&&n+a<e.startTimestamp))switch(o.entryType){case"navigation":{Th(e,o,n),s=n+te(o.responseStart),i=n+te(o.requestStart);break}case"mark":case"paint":case"measure":{vh(e,o,a,c,n);const u=hs(),d=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&d&&(V&&p.log("[Measurements] Adding FP"),K.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&d&&(V&&p.log("[Measurements] Adding FCP"),K.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{const u=o.name.replace(H.location.origin,"");kh(e,o,u,a,c,n);break}}}),pi=Math.max(r.length-1,0),Ih(e),e.op==="pageload"){typeof s=="number"&&(V&&p.log("[Measurements] Adding TTFB"),K.ttfb={value:(s-e.startTimestamp)*1e3,unit:"millisecond"},typeof i=="number"&&i<=s&&(K["ttfb.requestTime"]={value:(s-i)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!K[a]||n>=e.startTimestamp)return;const c=K[a].value,u=n+te(c),d=Math.abs((u-e.startTimestamp)*1e3),l=d-c;V&&p.log(`[Measurements] Normalized ${a} from ${c} to ${d} (${l})`),K[a].value=d});const o=K["mark.fid"];o&&K.fid&&(Et(e,{description:"first input delay",endTimestamp:o.value+te(K.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete K["mark.fid"]),"fcp"in K||delete K.cls,Object.keys(K).forEach(a=>{e.setMeasurement(a,K[a].value,K[a].unit)}),Rh(e)}we=void 0,$t=void 0,K={}}function vh(e,t,n,r,s){const i=s+n,o=i+r;return Et(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function Th(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{ln(e,t,r,n)}),ln(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),ln(e,t,"fetch",n,"cache","domainLookupStart"),ln(e,t,"domainLookup",n,"DNS"),wh(e,t,n)}function ln(e,t,n,r,s,i){const o=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Et(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+te(a),endTimestamp:r+te(o)})}function wh(e,t,n){Et(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+te(t.requestStart),endTimestamp:n+te(t.responseEnd)}),Et(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+te(t.responseStart),endTimestamp:n+te(t.responseEnd)})}function kh(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o={};or(o,t,"transferSize","http.response_transfer_size"),or(o,t,"encodedBodySize","http.response_content_length"),or(o,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus);const a=i+r,c=a+s;Et(e,{description:n,endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:o})}function Ih(e){const t=H.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ir(n.rtt)&&(K["connection.rtt"]={value:n.rtt,unit:"millisecond"})),ir(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),ir(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function Rh(e){we&&(V&&p.log("[Measurements] Adding LCP Data"),we.element&&e.setTag("lcp.element",Xe(we.element)),we.id&&e.setTag("lcp.id",we.id),we.url&&e.setTag("lcp.url",we.url.trim().slice(0,200)),e.setTag("lcp.size",we.size)),$t&&$t.sources&&(V&&p.log("[Measurements] Adding CLS Data"),$t.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Xe(t.node))))}function or(e,t,n,r){const s=t[n];s!=null&&s<ph&&(e[r]=s)}function Ch(e,t,n,r,s="auto.http.browser"){if(!Xt()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const f=e.fetchData.__span;if(!f)return;const h=r[f];if(h){if(e.response){h.setHttpStatus(e.response.status);const m=e.response&&e.response.headers&&e.response.headers.get("content-length");if(m){const g=parseInt(m);g>0&&h.setData("http.response_content_length",g)}}else e.error&&h.setStatus("internal_error");h.end(),delete r[f]}return}const o=be(),a=P(),c=o.getSpan(),{method:u,url:d}=e.fetchData,l=i&&c?c.startChild({data:{url:d,type:"fetch","http.method":u},description:`${u} ${d}`,op:"http.client",origin:s}):void 0;if(l&&(e.fetchData.__span=l.spanId,r[l.spanId]=l),n(e.fetchData.url)&&a){const f=e.args[0];e.args[1]=e.args[1]||{};const h=e.args[1];h.headers=xh(f,a,o,h,l)}return l}function xh(e,t,n,r,s){const i=s||n.getSpan(),o=i&&i.transaction,{traceId:a,sampled:c,dsc:u}=n.getPropagationContext(),d=i?i.toTraceparent():Qr(a,void 0,c),l=o?o.getDynamicSamplingContext():u||$n(a,t,n),f=Ir(l),h=typeof Request<"u"&&Ae(e,Request)?e.headers:r.headers;if(h)if(typeof Headers<"u"&&Ae(h,Headers)){const m=new Headers(h);return m.append("sentry-trace",d),f&&m.append(kr,f),m}else if(Array.isArray(h)){const m=[...h,["sentry-trace",d]];return f&&m.push([kr,f]),m}else{const m="baggage"in h?h.baggage:void 0,g=[];return Array.isArray(m)?g.push(...m):m&&g.push(m),f&&g.push(f),{...h,"sentry-trace":d,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}const Dr=["localhost",/^\/(?!\/)/],Nr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Dr,tracePropagationTargets:Dr};function Mh(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:Nr.traceFetch,traceXHR:Nr.traceXHR,...e},a=typeof i=="function"?i:d=>!0,c=d=>Nh(d,r||s),u={};t&&Xr(d=>{const l=Ch(d,a,c,u);o&&l&&mi(l)}),n&&Jr(d=>{const l=Lh(d,a,c,u);o&&l&&mi(l)})}function Oh(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function mi(e){const t=e.data.url;if(!t)return;const n=zn("resource",({entries:r})=>{r.forEach(s=>{Oh(s)&&s.name.endsWith(t)&&(Dh(s).forEach(o=>e.setData(...o)),setTimeout(n))})})}function Ah(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Te(e=0){return((he||performance.timeOrigin)+e)/1e3}function Dh(e){const{name:t,version:n}=Ah(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),he?[...r,["http.request.redirect_start",Te(e.redirectStart)],["http.request.fetch_start",Te(e.fetchStart)],["http.request.domain_lookup_start",Te(e.domainLookupStart)],["http.request.domain_lookup_end",Te(e.domainLookupEnd)],["http.request.connect_start",Te(e.connectStart)],["http.request.secure_connection_start",Te(e.secureConnectionStart)],["http.request.connection_end",Te(e.connectEnd)],["http.request.request_start",Te(e.requestStart)],["http.request.response_start",Te(e.responseStart)],["http.request.response_end",Te(e.responseEnd)]]:r}function Nh(e,t){return Rt(e,t||Dr)}function Lh(e,t,n,r){const s=e.xhr,i=s&&s[Be];if(!Xt()||!s||s.__sentry_own_request__||!i)return;const o=t(i.url);if(e.endTimestamp&&o){const d=s.__sentry_xhr_span_id__;if(!d)return;const l=r[d];l&&i.status_code!==void 0&&(l.setHttpStatus(i.status_code),l.end(),delete r[d]);return}const a=be(),c=a.getSpan(),u=o&&c?c.startChild({data:{type:"xhr","http.method":i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(u&&(s.__sentry_xhr_span_id__=u.spanId,r[s.__sentry_xhr_span_id__]=u),s.setRequestHeader&&n(i.url))if(u){const d=u&&u.transaction,l=d&&d.getDynamicSamplingContext(),f=Ir(l);gi(s,u.toTraceparent(),f)}else{const d=P(),{traceId:l,sampled:f,dsc:h}=a.getPropagationContext(),m=Qr(l,void 0,f),g=h||(d?$n(l,d,a):void 0),_=Ir(g);gi(s,m,_)}return u}function gi(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(kr,n)}catch{}}function Ph(e,t=!0,n=!0){if(!H||!H.location){V&&p.warn("Could not initialize routing instrumentation due to invalid location");return}let r=H.location.href,s;t&&(s=e({name:H.location.pathname,startTimestamp:he?he/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Ln(({to:i,from:o})=>{if(o===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}o!==i&&(r=void 0,s&&(V&&p.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.end()),s=e({name:H.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const Fh="BrowserTracing",$h={..._n,markBackgroundTransactions:!0,routingInstrumentation:Ph,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Nr};class Fy{constructor(t){this.name=Fh,this._hasSetTracePropagationTargets=!1,Tl(),V&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...$h,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=mh(),this.options.enableLongTask&&gh(),this.options._experiments.enableInteractions&&_h()}setupOnce(t,n){this._getCurrentHub=n;const s=n().getClient(),i=s&&s.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:d,traceXHR:l,shouldCreateSpanForRequest:f,enableHTTPTimings:h,_experiments:m}=this.options,g=i&&i.tracePropagationTargets,_=g||this.options.tracePropagationTargets;V&&this._hasSetTracePropagationTargets&&g&&p.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(y=>{const S=this._createRouteTransaction(y);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(S,y,n),S},c,a),u&&eh(),m.enableInteractions&&this._registerInteractionListener(),Mh({traceFetch:d,traceXHR:l,tracePropagationTargets:_,shouldCreateSpanForRequest:f,enableHTTPTimings:h})}_createRouteTransaction(t){if(!this._getCurrentHub){V&&p.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=this.options,a=t.op==="pageload",c=a?_i("sentry-trace"):"",u=a?_i("baggage"):"",{traceparentData:d,dynamicSamplingContext:l,propagationContext:f}=vo(c,u),h={...t,...d,metadata:{...t.metadata,dynamicSamplingContext:d&&!l?{}:l},trimEnd:!0},m=typeof r=="function"?r(h):h,g=m===void 0?{...h,sampled:!1}:m;g.metadata=g.name!==h.name?{...g.metadata,source:"custom"}:g.metadata,this._latestRouteName=g.name,this._latestRouteSource=g.metadata&&g.metadata.source,g.sampled===!1&&V&&p.log(`[Tracing] Will not send ${g.op} transaction because of beforeNavigate.`),V&&p.log(`[Tracing] Starting ${g.op} transaction on scope`);const{location:_}=H,y=ei(n,g,s,i,!0,{location:_},o),S=n.getScope();return a&&d?S.setPropagationContext(f):S.setPropagationContext({traceId:y.traceId,spanId:y.spanId,parentSpanId:y.parentSpanId,sampled:y.sampled}),y.registerBeforeFinishCallback(O=>{this._collectWebVitals(),Eh(O)}),y}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="ui.action.click",a=Mt();if(a&&a.op&&["navigation","pageload"].includes(a.op)){V&&p.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){V&&p.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){V&&p.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=H,d={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=ei(c,d,r,s,!0,{location:u},i)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}}function _i(e){const t=Uc(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}const W=A,ms="sentryReplaySession",Bh="replay_event",gs="Unable to send Replay",Hh=3e5,Uh=9e5,jh=5e3,zh=5500,Wh=6e4,qh=5e3,Gh=3,yi=15e4,dn=5e3,Yh=3e3,Vh=300,_s=2e7,Kh=4999,Xh=15e3,Si=36e5,bi={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}};var ne;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ne||(ne={}));function Jh(e){return e.nodeType===e.ELEMENT_NODE}function Bt(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Ht(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Zh(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Qh(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function wn(e){try{const t=e.rules||e.cssRules;return t?Zh(Array.from(t,Oa).join("")):null}catch{return null}}function Oa(e){let t;if(tp(e))try{t=wn(e.styleSheet)||Qh(e)}catch{}else if(np(e)&&e.selectorText.includes(":"))return ep(e.cssText);return t||e.cssText}function ep(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function tp(e){return"styleSheet"in e}function np(e){return"selectorText"in e}class Aa{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var n;if(!t)return-1;const r=(n=this.getMeta(t))===null||n===void 0?void 0:n.id;return r??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function rp(){return new Aa}function qn({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Wt({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function vt(e){return e.toLowerCase()}function Lr(e){return e.toUpperCase()}const Ei="__rrweb_original__";function sp(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=Ei in i?i[Ei]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function ys(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?vt(t):null}function kn(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}let ip=1;const op=new RegExp("[^a-z0-9-_:]"),qt=-2;function Ss(){return ip++}function ap(e){if(e instanceof HTMLFormElement)return"form";const t=vt(e.tagName);return op.test(t)?"div":t}function cp(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let it,vi;const up=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,lp=/^(?:[a-z+]+:)?\/\//i,dp=/^www\..*/i,fp=/^(data:)([^,]*),(.*)/i;function In(e,t){return(e||"").replace(up,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(lp.test(c)||dp.test(c))return`url(${u}${c}${u})`;if(fp.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${cp(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const hp=/^[^ \t\n\r\u000c]+/,pp=/^[, \t\n\r\u000c]+/;function mp(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(pp),!(n>=t.length);){let i=r(hp);if(i.slice(-1)===",")i=lt(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=lt(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}function lt(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function gp(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function bs(){const e=document.createElement("a");return e.href="",e.href}function Da(e,t,n,r,s,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?lt(e,r):n==="srcset"?mp(e,r):n==="style"?In(r,bs()):t==="object"&&n==="data"?lt(e,r):typeof i=="function"?i(n,r,s):r)}function Na(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function _p(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function yp(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Ve(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ve(e.parentNode,t,n,r+1)}function dt(e,t){return n=>{const r=n;if(r===null)return!1;if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(yp(r,e))return!0}return!!(t&&r.matches(t))}}function Tt(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;let a=-1,c=-1;if(i){if(c=Ve(o,dt(r,s)),c<0)return!0;a=Ve(o,dt(t,n),c>=0?c:1/0)}else{if(a=Ve(o,dt(t,n)),a<0)return!1;c=Ve(o,dt(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function Sp(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function bp(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function Ep(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:m={},maskTextFn:g,maskInputFn:_,dataURLOptions:y={},inlineImages:S,recordCanvas:O,keepIframeSrcFn:x,newlyAddedElement:L=!1}=t,T=vp(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ne.Document,childNodes:[],compatMode:e.compatMode}:{type:ne.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ne.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:T};case e.ELEMENT_NODE:return wp(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:m,maskInputFn:_,dataURLOptions:y,inlineImages:S,recordCanvas:O,keepIframeSrcFn:x,newlyAddedElement:L,rootId:T,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return Tp(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:m,maskInputFn:_,rootId:T});case e.CDATA_SECTION_NODE:return{type:ne.CDATA,textContent:"",rootId:T};case e.COMMENT_NODE:return{type:ne.Comment,textContent:e.textContent||"",rootId:T};default:return!1}}function vp(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Tp(e,t){var n;const{maskAllText:r,maskTextClass:s,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:a,maskTextFn:c,maskInputOptions:u,maskInputFn:d,rootId:l}=t,f=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const m=f==="STYLE"?!0:void 0,g=f==="SCRIPT"?!0:void 0,_=f==="TEXTAREA"?!0:void 0;if(m&&h){try{e.nextSibling||e.previousSibling||!((n=e.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(h=wn(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}h=In(h,bs())}g&&(h="SCRIPT_PLACEHOLDER");const y=Tt(e,s,o,i,a,r);if(!m&&!g&&!_&&h&&y&&(h=c?c(h):h.replace(/[\S]/g,"*")),_&&h&&(u.textarea||y)&&(h=d?d(h,e.parentNode):h.replace(/[\S]/g,"*")),f==="OPTION"&&h){const S=qn({type:null,tagName:f,maskInputOptions:u});h=Wt({isMasked:Tt(e,s,o,i,a,S),element:e,value:h,maskInputFn:d})}return{type:ne.Text,textContent:h||"",isStyle:m,rootId:l}}function wp(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:h,newlyAddedElement:m=!1,rootId:g,maskAllText:_,maskTextClass:y,unmaskTextClass:S,maskTextSelector:O,unmaskTextSelector:x}=t,L=_p(e,r,s,i),T=ap(e);let E={};const M=e.attributes.length;for(let b=0;b<M;b++){const k=e.attributes[b];Na(T,k.name,k.value)||(E[k.name]=Da(n,T,vt(k.name),k.value,e,c))}if(T==="link"&&o){const b=Array.from(n.styleSheets).find(j=>j.href===e.href);let k=null;b&&(k=wn(b)),k&&(delete E.rel,delete E.href,E._cssText=In(k,b.href))}if(T==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const b=wn(e.sheet);b&&(E._cssText=In(b,bs()))}if(T==="input"||T==="textarea"||T==="select"||T==="option"){const b=e,k=ys(b),j=kn(b,Lr(T),k),Q=b.checked;if(k!=="submit"&&k!=="button"&&j){const X=Tt(b,y,O,S,x,qn({type:k,tagName:Lr(T),maskInputOptions:a}));E.value=Wt({isMasked:X,element:b,value:j,maskInputFn:u})}Q&&(E.checked=Q)}if(T==="option"&&(e.selected&&!a.select?E.selected=!0:delete E.selected),T==="canvas"&&f){if(e.__context==="2d")sp(e)||(E.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const b=e.toDataURL(d.type,d.quality),k=document.createElement("canvas");k.width=e.width,k.height=e.height;const j=k.toDataURL(d.type,d.quality);b!==j&&(E.rr_dataURL=b)}}if(T==="img"&&l){it||(it=n.createElement("canvas"),vi=it.getContext("2d"));const b=e,k=b.crossOrigin;b.crossOrigin="anonymous";const j=()=>{b.removeEventListener("load",j);try{it.width=b.naturalWidth,it.height=b.naturalHeight,vi.drawImage(b,0,0),E.rr_dataURL=it.toDataURL(d.type,d.quality)}catch(Q){console.warn(`Cannot inline img src=${b.currentSrc}! Error: ${Q}`)}k?E.crossOrigin=k:b.removeAttribute("crossorigin")};b.complete&&b.naturalWidth!==0?j():b.addEventListener("load",j)}if((T==="audio"||T==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),L){const{width:b,height:k}=e.getBoundingClientRect();E={class:E.class,rr_width:`${b}px`,rr_height:`${k}px`}}T==="iframe"&&!h(E.src)&&(e.contentDocument||(E.rr_src=E.src),delete E.src);let $;try{customElements.get(T)&&($=!0)}catch{}return{type:ne.Element,tagName:T,attributes:E,childNodes:[],isSVG:gp(e)||void 0,needBlock:L,rootId:g,isCustom:$}}function z(e){return e==null?"":e.toLowerCase()}function kp(e,t){if(t.comment&&e.type===ne.Comment)return!0;if(e.type===ne.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(z(e.attributes.name).match(/^msapplication-tile(image|color)$/)||z(e.attributes.name)==="application-name"||z(e.attributes.rel)==="icon"||z(e.attributes.rel)==="apple-touch-icon"||z(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&z(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(z(e.attributes.property).match(/^(og|twitter|fb):/)||z(e.attributes.name).match(/^(og|twitter):/)||z(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(z(e.attributes.name)==="robots"||z(e.attributes.name)==="googlebot"||z(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(z(e.attributes.name)==="author"||z(e.attributes.name)==="generator"||z(e.attributes.name)==="framework"||z(e.attributes.name)==="publisher"||z(e.attributes.name)==="progid"||z(e.attributes.property).match(/^article:/)||z(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(z(e.attributes.name)==="google-site-verification"||z(e.attributes.name)==="yandex-verification"||z(e.attributes.name)==="csrf-token"||z(e.attributes.name)==="p:domain_verify"||z(e.attributes.name)==="verify-v1"||z(e.attributes.name)==="verification"||z(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ft(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:h=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:S,dataURLOptions:O={},inlineImages:x=!1,recordCanvas:L=!1,onSerialize:T,onIframeLoad:E,iframeLoadTimeout:M=5e3,onStylesheetLoad:$,stylesheetLoadTimeout:b=5e3,keepIframeSrcFn:k=()=>!1,newlyAddedElement:j=!1}=t;let{preserveWhiteSpace:Q=!0}=t;const X=Ep(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,dataURLOptions:O,inlineImages:x,recordCanvas:L,keepIframeSrcFn:k,newlyAddedElement:j});if(!X)return console.warn(e,"not serialized"),null;let ie;r.hasNode(e)?ie=r.getId(e):kp(X,S)||!Q&&X.type===ne.Text&&!X.isStyle&&!X.textContent.replace(/^\s+|\s+$/gm,"").length?ie=qt:ie=Ss();const B=Object.assign(X,{id:ie});if(r.add(e,B),ie===qt)return null;T&&T(e);let Ee=!f;if(B.type===ne.Element){Ee=Ee&&!B.needBlock,delete B.needBlock;const J=e.shadowRoot;J&&Ht(J)&&(B.isShadowHost=!0)}if((B.type===ne.Document||B.type===ne.Element)&&Ee){S.headWhitespace&&B.type===ne.Element&&B.tagName==="head"&&(Q=!1);const J={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:S,dataURLOptions:O,inlineImages:x,recordCanvas:L,preserveWhiteSpace:Q,onSerialize:T,onIframeLoad:E,iframeLoadTimeout:M,onStylesheetLoad:$,stylesheetLoadTimeout:b,keepIframeSrcFn:k};for(const le of Array.from(e.childNodes)){const ve=ft(le,J);ve&&B.childNodes.push(ve)}if(Jh(e)&&e.shadowRoot)for(const le of Array.from(e.shadowRoot.childNodes)){const ve=ft(le,J);ve&&(Ht(e.shadowRoot)&&(ve.isShadow=!0),B.childNodes.push(ve))}}return e.parentNode&&Bt(e.parentNode)&&Ht(e.parentNode)&&(B.isShadow=!0),B.type===ne.Element&&B.tagName==="iframe"&&Sp(e,()=>{const J=e.contentDocument;if(J&&E){const le=ft(J,{doc:J,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:S,dataURLOptions:O,inlineImages:x,recordCanvas:L,preserveWhiteSpace:Q,onSerialize:T,onIframeLoad:E,iframeLoadTimeout:M,onStylesheetLoad:$,stylesheetLoadTimeout:b,keepIframeSrcFn:k});le&&E(e,le)}},M),B.type===ne.Element&&B.tagName==="link"&&B.attributes.rel==="stylesheet"&&bp(e,()=>{if($){const J=ft(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:S,dataURLOptions:O,inlineImages:x,recordCanvas:L,preserveWhiteSpace:Q,onSerialize:T,onIframeLoad:E,iframeLoadTimeout:M,onStylesheetLoad:$,stylesheetLoadTimeout:b,keepIframeSrcFn:k});J&&$(e,J)}},b),B}function Ip(e,t){const{mirror:n=new Aa,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:h=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOM:S=!1,dataURLOptions:O,preserveWhiteSpace:x,onSerialize:L,onIframeLoad:T,iframeLoadTimeout:E,onStylesheetLoad:M,stylesheetLoadTimeout:$,keepIframeSrcFn:b=()=>!1}=t||{};return ft(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:O,inlineImages:f,recordCanvas:h,preserveWhiteSpace:x,onSerialize:L,onIframeLoad:T,iframeLoadTimeout:E,onStylesheetLoad:M,stylesheetLoadTimeout:$,keepIframeSrcFn:b,newlyAddedElement:!1})}function ue(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const ct=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ti={map:{},getId(){return console.error(ct),-1},getNode(){return console.error(ct),null},removeNodeFromMap(){console.error(ct)},has(){return console.error(ct),!1},reset(){console.error(ct)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ti=new Proxy(Ti,{get(e,t,n){return t==="map"&&console.error(ct),Reflect.get(e,t,n)}}));function Gt(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),s=o,e.apply(c,i)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function La(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>La(e,t,i||{},!0)}function Es(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Rn=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Rn=()=>new Date().getTime());function Pa(e){var t,n,r,s,i,o;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(a==null?void 0:a.documentElement.scrollLeft)||((n=(t=a==null?void 0:a.body)===null||t===void 0?void 0:t.parentElement)===null||n===void 0?void 0:n.scrollLeft)||((r=a==null?void 0:a.body)===null||r===void 0?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||((i=(s=a==null?void 0:a.body)===null||s===void 0?void 0:s.parentElement)===null||i===void 0?void 0:i.scrollTop)||((o=a==null?void 0:a.body)===null||o===void 0?void 0:o.scrollTop)||0}}function Fa(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function $a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ye(e,t,n,r,s){if(!e)return!1;const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!i)return!1;const o=dt(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=Ve(i,o);let c=-1;return a<0?!1:(r&&(c=Ve(i,dt(null,r))),a>-1&&c<0?!0:a<c)}function Rp(e,t){return t.getId(e)!==-1}function ar(e,t){return t.getId(e)===qt}function Ba(e,t){if(Bt(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Ba(e.parentNode,t):!0:!0}function Pr(e){return!!e.changedTouches}function Cp(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Ha(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Ua(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Fr(e){return!!(e!=null&&e.shadowRoot)}class xp{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var n;return(n=this.styleIDMap.get(t))!==null&&n!==void 0?n:-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ja(e){var t,n;let r=null;return((n=(t=e.getRootNode)===null||t===void 0?void 0:t.call(e))===null||n===void 0?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function Mp(e){let t=e,n;for(;n=ja(t);)t=n;return t}function Op(e){const t=e.ownerDocument;if(!t)return!1;const n=Mp(e);return t.contains(n)}function za(e){const t=e.ownerDocument;return t?t.contains(e)||Op(e):!1}var R=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(R||{}),C=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(C||{}),ae=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ae||{}),Me=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Me||{});function wi(e){return"__ln"in e}class Ap{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&wi(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&wi(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const ki=(e,t)=>`${e}@${t}`;class Dp{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new Ap,s=c=>{let u=c,d=qt;for(;d===qt;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!za(c))return;const u=Bt(c.parentNode)?this.mirror.getId(ja(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=ft(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Ha(f,this.mirror)&&this.iframeManager.addIframe(f),Ua(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Fr(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,h)=>{this.iframeManager.attachIframe(f,h),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,h)=>{this.stylesheetManager.attachLinkElement(f,h)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Ii(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!Ri(this.droppedSet,c)&&!Ii(this.removes,c,this.mirror)||Ri(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),d=s(o.value);u!==-1&&d!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const h=d.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=h.parentNode.host;if(this.mirror.getId(m)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(ar(t.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch{n=this.doc}switch(t.type){case"characterData":{const r=t.target.textContent;!ye(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:Tt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{const r=t.target;let s=t.attributeName,i=t.target.getAttribute(s);if(s==="value"){const a=ys(r),c=r.tagName;i=kn(r,c,a);const u=qn({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),d=Tt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,u);i=Wt({isMasked:d,element:r,value:i,maskInputFn:this.maskInputFn})}if(ye(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let o=this.attributes.find(a=>a.node===t.target);if(r.tagName==="IFRAME"&&s==="src"&&!this.keepIframeSrcFn(i))if(!r.contentDocument)s="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),s==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Na(r.tagName,s)&&(o.attributes[s]=Da(this.doc,vt(r.tagName),vt(s),i,r,this.maskAttributeFn),s==="style")){const a=n.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue);for(const c of Array.from(r.style)){const u=r.style.getPropertyValue(c),d=r.style.getPropertyPriority(c);u!==a.style.getPropertyValue(c)||d!==a.style.getPropertyPriority(c)?d===""?o.styleDiff[c]=u:o.styleDiff[c]=[u,d]:o._unchangedStyles[c]=[u,d]}for(const c of Array.from(a.style))r.style.getPropertyValue(c)===""&&(o.styleDiff[c]=!1)}break}case"childList":{if(ye(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{const s=this.mirror.getId(r),i=Bt(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ye(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ar(r,this.mirror)||!Rp(r,this.mirror)||(this.addedSet.has(r)?($r(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&s===-1||Ba(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[ki(s,i)]?$r(this.movedSet,r):this.removes.push({parentId:i,id:s,isShadow:Bt(t.target)&&Ht(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(ar(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[ki(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ye(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Fr(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function $r(e,t){e.delete(t),t.childNodes.forEach(n=>$r(e,n))}function Ii(e,t,n){return e.length===0?!1:Wa(e,t,n)}function Wa(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return e.some(i=>i.id===s)?!0:Wa(e,r,n)}function Ri(e,t){return e.size===0?!1:qa(e,t)}function qa(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:qa(e,n):!1}let Ut;function Np(e){Ut=e}function Lp(){Ut=void 0}const D=e=>Ut?(...n)=>{try{return e(...n)}catch(r){if(Ut&&Ut(r)===!0)return()=>{};throw r}}:e,ht=[];function Zt(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Ga(e,t){var n,r;const s=new Dp;ht.push(s),s.init(e);let i=window.MutationObserver||window.__rrMutationObserver;const o=(r=(n=window==null?void 0:window.Zone)===null||n===void 0?void 0:n.__symbol__)===null||r===void 0?void 0:r.call(n,"MutationObserver");o&&window[o]&&(i=window[o]);const a=new i(D(c=>{e.onMutation&&e.onMutation(c)===!1||s.processMutations.bind(s)(c)}));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Pp({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=Gt(D(l=>{const f=Date.now()-a;e(o.map(h=>(h.timeOffset-=f,h)),l),o=[],a=null}),i),u=D(Gt(D(l=>{const f=Zt(l),{clientX:h,clientY:m}=Pr(l)?l.changedTouches[0]:l;a||(a=Rn()),o.push({x:h,y:m,id:r.getId(f),timeOffset:Rn()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?C.Drag:l instanceof MouseEvent?C.MouseMove:C.TouchMove)}),s,{trailing:!1})),d=[ue("mousemove",u,n),ue("touchmove",u,n),ue("drag",u,n)];return D(()=>{d.forEach(l=>l())})}function Fp({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const d=l=>f=>{const h=Zt(f);if(ye(h,r,s,i,!0))return;let m=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":m=Me.Mouse;break;case"touch":m=Me.Touch;break;case"pen":m=Me.Pen;break}m===Me.Touch?ae[l]===ae.MouseDown?g="TouchStart":ae[l]===ae.MouseUp&&(g="TouchEnd"):Me.Pen}else Pr(f)&&(m=Me.Touch);m!==null?(u=m,(g.startsWith("Touch")&&m===Me.Touch||g.startsWith("Mouse")&&m===Me.Mouse)&&(m=null)):ae[l]===ae.Click&&(m=u,u=null);const _=Pr(f)?f.changedTouches[0]:f;if(!_)return;const y=n.getId(h),{clientX:S,clientY:O}=_;D(e)(Object.assign({type:ae[g],id:y,x:S,y:O},m!==null&&{pointerType:m}))};return Object.keys(ae).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=vt(l);const h=d(l);if(window.PointerEvent)switch(ae[l]){case ae.MouseDown:case ae.MouseUp:f=f.replace("mouse","pointer");break;case ae.TouchStart:case ae.TouchEnd:return}c.push(ue(f,h,t))}),D(()=>{c.forEach(l=>l())})}function Ya({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=D(Gt(D(c=>{const u=Zt(c);if(!u||ye(u,r,s,i,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=Pa(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return ue("scroll",a,t)}function $p({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=D(Gt(D(()=>{const i=Fa(),o=$a();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return ue("resize",s,t)}const Bp=["INPUT","TEXTAREA","SELECT"],Ci=new WeakMap;function Hp({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:g}){function _(E){let M=Zt(E);const $=E.isTrusted,b=M&&Lr(M.tagName);if(b==="OPTION"&&(M=M.parentElement),!M||!b||Bp.indexOf(b)<0||ye(M,r,s,i,!0))return;const k=M;if(k.classList.contains(o)||a&&k.matches(a))return;const j=ys(M);let Q=kn(k,b,j),X=!1;const ie=qn({maskInputOptions:c,tagName:b,type:j}),B=Tt(M,f,m,h,g,ie);(j==="radio"||j==="checkbox")&&(X=M.checked),Q=Wt({isMasked:B,element:M,value:Q,maskInputFn:u}),y(M,l?{text:Q,isChecked:X,userTriggered:$}:{text:Q,isChecked:X});const Ee=M.name;j==="radio"&&Ee&&X&&t.querySelectorAll(`input[type="radio"][name="${Ee}"]`).forEach(J=>{if(J!==M){const le=Wt({isMasked:B,element:J,value:kn(J,b,j),maskInputFn:u});y(J,l?{text:le,isChecked:!X,userTriggered:!1}:{text:le,isChecked:!X})}})}function y(E,M){const $=Ci.get(E);if(!$||$.text!==M.text||$.isChecked!==M.isChecked){Ci.set(E,M);const b=n.getId(E);D(e)(Object.assign(Object.assign({},M),{id:b}))}}const O=(d.input==="last"?["change"]:["input","change"]).map(E=>ue(E,D(_),t)),x=t.defaultView;if(!x)return()=>{O.forEach(E=>E())};const L=x.Object.getOwnPropertyDescriptor(x.HTMLInputElement.prototype,"value"),T=[[x.HTMLInputElement.prototype,"value"],[x.HTMLInputElement.prototype,"checked"],[x.HTMLSelectElement.prototype,"value"],[x.HTMLTextAreaElement.prototype,"value"],[x.HTMLSelectElement.prototype,"selectedIndex"],[x.HTMLOptionElement.prototype,"selected"]];return L&&L.set&&O.push(...T.map(E=>La(E[0],E[1],{set(){D(_)({target:this,isTrusted:!1})}},!1,x))),D(()=>{O.forEach(E=>E())})}function Cn(e){const t=[];function n(r,s){if(fn("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||fn("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||fn("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||fn("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function Le(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Up({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:D((d,l,f)=>{const[h,m]=f,{id:g,styleId:_}=Le(l,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:h,index:m}]}),d.apply(l,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:D((d,l,f)=>{const[h]=f,{id:m,styleId:g}=Le(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:h}]}),d.apply(l,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:D((d,l,f)=>{const[h]=f,{id:m,styleId:g}=Le(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:h}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:D((d,l,f)=>{const[h]=f,{id:m,styleId:g}=Le(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:h}),d.apply(l,f)})}));const c={};hn("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(hn("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),hn("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),hn("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:D((f,h,m)=>{const[g,_]=m,{id:y,styleId:S}=Le(h.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||S&&S!==-1)&&e({id:y,styleId:S,adds:[{rule:g,index:[...Cn(h),_||0]}]}),f.apply(h,m)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:D((f,h,m)=>{const[g]=m,{id:_,styleId:y}=Le(h.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||y&&y!==-1)&&e({id:_,styleId:y,removes:[{index:[...Cn(h),g]}]}),f.apply(h,m)})})}),D(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Va({mirror:e,stylesheetManager:t},n){var r,s,i;let o=null;n.nodeName==="#document"?o=e.getId(n):o=e.getId(n.host);const a=n.nodeName==="#document"?(r=n.defaultView)===null||r===void 0?void 0:r.Document:(i=(s=n.ownerDocument)===null||s===void 0?void 0:s.defaultView)===null||i===void 0?void 0:i.ShadowRoot,c=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return o===null||o===-1||!a||!c?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var u;return(u=c.get)===null||u===void 0?void 0:u.call(this)},set(u){var d;const l=(d=c.set)===null||d===void 0?void 0:d.call(this,u);if(o!==null&&o!==-1)try{t.adoptStyleSheets(u,o)}catch{}return l}}),D(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))}function jp({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:D((a,c,u)=>{var d;const[l,f,h]=u;if(n.has(l))return i.apply(c,[l,f,h]);const{id:m,styleId:g}=Le((d=c.parentRule)===null||d===void 0?void 0:d.parentStyleSheet,t,r.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,set:{property:l,value:f,priority:h},index:Cn(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:D((a,c,u)=>{var d;const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:f,styleId:h}=Le((d=c.parentRule)===null||d===void 0?void 0:d.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,remove:{property:l},index:Cn(c.parentRule)}),a.apply(c,u)})}),D(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function zp({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=D(u=>Gt(D(d=>{const l=Zt(d);if(!l||ye(l,t,n,r,!0))return;const{currentTime:f,volume:h,muted:m,playbackRate:g}=l;e({type:u,id:s.getId(l),currentTime:f,volume:h,muted:m,playbackRate:g})}),i.media||500)),c=[ue("play",a(0),o),ue("pause",a(1),o),ue("seeked",a(2),o),ue("volumechange",a(3),o),ue("ratechange",a(4),o)];return D(()=>{c.forEach(u=>u())})}function Wp({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){const l=new i(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const o=Es(t.fonts,"add",function(a){return function(c){return setTimeout(D(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),D(()=>{r.forEach(a=>a())})}function qp(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=D(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const h=u.getRangeAt(f),{startContainer:m,startOffset:g,endContainer:_,endOffset:y}=h;ye(m,r,s,i,!0)||ye(_,r,s,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(_),endOffset:y})}o({ranges:d})});return c(),ue("selectionchange",c)}function Gp({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Es(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function Yp(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=Ga(e,e.doc),s=Pp(e),i=Fp(e),o=Ya(e),a=$p(e,{win:n}),c=Hp(e),u=zp(e),d=Up(e,{win:n}),l=Va(e,e.doc),f=jp(e,{win:n}),h=e.collectFonts?Wp(e):()=>{},m=qp(e),g=Gp(e),_=[];for(const y of e.plugins)_.push(y.observer(y.callback,n,y.options));return D(()=>{ht.forEach(y=>y.reset()),r.disconnect(),s(),i(),o(),a(),c(),u(),d(),l(),f(),h(),m(),g(),_.forEach(y=>y())})}function fn(e){return typeof window[e]<"u"}function hn(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Br{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class Vp{constructor(){this.crossOriginIframeMirror=new Br(Ss),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Kp{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Br(Ss),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Br(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var r;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case R.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:R.IncrementalSnapshot,data:{source:C.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case R.Meta:case R.Load:case R.DomContentLoaded:return!1;case R.Plugin:return n;case R.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case R.IncrementalSnapshot:switch(n.data.source){case C.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(s.node,i)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case C.Drag:case C.TouchMove:case C.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case C.ViewportResize:return!1;case C.MediaInteraction:case C.MouseInteraction:case C.Scroll:case C.CanvasMutation:case C.Input:return this.replaceIds(n.data,t,["id"]),n;case C.StyleSheetRule:case C.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case C.Font:return n;case C.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case C.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)===null||r===void 0||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ne.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Xp{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Jp{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Ht(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=Ga(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Ya(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Va({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Es(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&za(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Zp{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class Qp{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new xp,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Oa(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class em{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function ee(e){const t=e;return t.timestamp=Rn(),t}let Hr,xn;const _e=rp();function He(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:h=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:y,maskAttributeFn:S,maskInputFn:O,maskTextFn:x,packFn:L,sampling:T={},dataURLOptions:E={},mousemoveWait:M,recordCanvas:$=!1,recordCrossOriginIframes:b=!1,recordAfter:k=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:j=!1,collectFonts:Q=!1,inlineImages:X=!1,plugins:ie,keepIframeSrcFn:B=()=>!1,ignoreCSSAttributes:Ee=new Set([]),errorHandler:J,onMutation:le,getCanvasManager:ve}=e;Np(J);const At=b?window.parent===window:!0;let ze=!1;if(!At)try{window.parent.document&&(ze=!1)}catch{ze=!0}if(At&&!t)throw new Error("emit function is required");M!==void 0&&T.mousemove===void 0&&(T.mousemove=M),_e.reset();const We=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},rt=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};Cp();let en,Kn=0;const Ms=I=>{for(const ge of ie||[])ge.eventProcessor&&(I=ge.eventProcessor(I));return L&&!ze&&(I=L(I)),I},Z=(I,ge)=>{var Y;if(!((Y=ht[0])===null||Y===void 0)&&Y.isFrozen()&&I.type!==R.FullSnapshot&&!(I.type===R.IncrementalSnapshot&&I.data.source===C.Mutation)&&ht.forEach(oe=>oe.unfreeze()),At)t==null||t(Ms(I),ge);else if(ze){const oe={type:"rrweb",event:Ms(I),origin:window.location.origin,isCheckout:ge};window.parent.postMessage(oe,"*")}if(I.type===R.FullSnapshot)en=I,Kn=0;else if(I.type===R.IncrementalSnapshot){if(I.data.source===C.Mutation&&I.data.isAttachIframe)return;Kn++;const oe=r&&Kn>=r,Ye=n&&I.timestamp-en.timestamp>n;(oe||Ye)&&Jn(!0)}};Hr=Z;const tn=I=>{Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.Mutation},I)}))},Os=I=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.Scroll},I)})),Oc=I=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.CanvasMutation},I)})),Ac=I=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.AdoptedStyleSheet},I)})),qe=new Qp({mutationCb:tn,adoptedStyleSheetCb:Ac}),Ge=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Vp:new Kp({mirror:_e,mutationCb:tn,stylesheetManager:qe,recordCrossOriginIframes:b,wrappedEmit:Z});for(const I of ie||[])I.getMirror&&I.getMirror({nodeMirror:_e,crossOriginIframeMirror:Ge.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ge.crossOriginIframeStyleMirror});const Xn=new em,As=rm(ve,{recordCanvas:$,blockClass:s,blockSelector:i,unblockSelector:o,sampling:T.canvas,dataURLOptions:E}),nn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Xp:new Jp({mutationCb:tn,scrollCb:Os,bypassOptions:{onMutation:le,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:m,maskInputOptions:We,dataURLOptions:E,maskAttributeFn:S,maskTextFn:x,maskInputFn:O,recordCanvas:$,inlineImages:X,sampling:T,slimDOMOptions:rt,iframeManager:Ge,stylesheetManager:qe,canvasManager:As,keepIframeSrcFn:B,processedNodeManager:Xn},mirror:_e}),Jn=(I=!1)=>{Z(ee({type:R.Meta,data:{href:window.location.href,width:$a(),height:Fa()}}),I),qe.reset(),nn.init(),ht.forEach(Y=>Y.lock());const ge=Ip(document,{mirror:_e,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:m,maskAllInputs:We,maskAttributeFn:S,maskInputFn:O,maskTextFn:x,slimDOM:rt,dataURLOptions:E,recordCanvas:$,inlineImages:X,onSerialize:Y=>{Ha(Y,_e)&&Ge.addIframe(Y),Ua(Y,_e)&&qe.trackLinkElement(Y),Fr(Y)&&nn.addShadowRoot(Y.shadowRoot,document)},onIframeLoad:(Y,oe)=>{Ge.attachIframe(Y,oe),nn.observeAttachShadow(Y)},onStylesheetLoad:(Y,oe)=>{qe.attachLinkElement(Y,oe)},keepIframeSrcFn:B});if(!ge)return console.warn("Failed to snapshot the document");Z(ee({type:R.FullSnapshot,data:{node:ge,initialOffset:Pa(window)}})),ht.forEach(Y=>Y.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&qe.adoptStyleSheets(document.adoptedStyleSheets,_e.getId(document))};xn=Jn;try{const I=[],ge=oe=>{var Ye;return D(Yp)({onMutation:le,mutationCb:tn,mousemoveCb:(q,Zn)=>Z(ee({type:R.IncrementalSnapshot,data:{source:Zn,positions:q}})),mouseInteractionCb:q=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.MouseInteraction},q)})),scrollCb:Os,viewportResizeCb:q=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.ViewportResize},q)})),inputCb:q=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.Input},q)})),mediaInteractionCb:q=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.MediaInteraction},q)})),styleSheetRuleCb:q=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.StyleSheetRule},q)})),styleDeclarationCb:q=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.StyleDeclaration},q)})),canvasMutationCb:Oc,fontCb:q=>Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.Font},q)})),selectionCb:q=>{Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.Selection},q)}))},customElementCb:q=>{Z(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.CustomElement},q)}))},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:h,maskInputOptions:We,inlineStylesheet:m,sampling:T,recordCanvas:$,inlineImages:X,userTriggeredOnInput:j,collectFonts:Q,doc:oe,maskAttributeFn:S,maskInputFn:O,maskTextFn:x,keepIframeSrcFn:B,blockSelector:i,unblockSelector:o,slimDOMOptions:rt,dataURLOptions:E,mirror:_e,iframeManager:Ge,stylesheetManager:qe,shadowDomManager:nn,processedNodeManager:Xn,canvasManager:As,ignoreCSSAttributes:Ee,plugins:((Ye=ie==null?void 0:ie.filter(q=>q.observer))===null||Ye===void 0?void 0:Ye.map(q=>({observer:q.observer,options:q.options,callback:Zn=>Z(ee({type:R.Plugin,data:{plugin:q.name,payload:Zn}}))})))||[]},{})};Ge.addLoadListener(oe=>{try{I.push(ge(oe.contentDocument))}catch(Ye){console.warn(Ye)}});const Y=()=>{Jn(),I.push(ge(document))};return document.readyState==="interactive"||document.readyState==="complete"?Y():(I.push(ue("DOMContentLoaded",()=>{Z(ee({type:R.DomContentLoaded,data:{}})),k==="DOMContentLoaded"&&Y()})),I.push(ue("load",()=>{Z(ee({type:R.Load,data:{}})),k==="load"&&Y()},window))),()=>{I.forEach(oe=>oe()),Xn.destroy(),xn=void 0,Lp()}}catch(I){console.warn(I)}}function tm(e){if(!xn)throw new Error("please take full snapshot after start recording");xn(e)}function nm(e){Hr&&Hr(e)}He.mirror=_e;He.takeFullSnapshot=tm;function rm(e,t){return e?e(Object.assign(Object.assign({},t),{mirror:_e,win:window,mutationCb:n=>nm(ee({type:R.IncrementalSnapshot,data:Object.assign({source:C.CanvasMutation},n)}))})):new Zp}const sm=3,im=5;function vs(e){return e>9999999999?e:e*1e3}function cr(e){return e>9999999999?e/1e3:e}function Qt(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:R.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ke(t,10,1e3)}}),t.category==="console")))}const om="button,a";function Ka(e){return e.closest(om)||e}function Xa(e){const t=Ja(e);return!t||!(t instanceof Element)?t:Ka(t)}function Ja(e){return am(e)?e.target:e}function am(e){return typeof e=="object"&&!!e&&"target"in e}let Pe;function cm(e){return Pe||(Pe=[],um()),Pe.push(e),()=>{const t=Pe?Pe.indexOf(e):-1;t>-1&&Pe.splice(t,1)}}function um(){re(W,"open",function(e){return function(...t){if(Pe)try{Pe.forEach(n=>n())}catch{}return e.apply(W,t)}})}function lm(e,t,n){e.handleClick(t,n)}class dm{constructor(t,n,r=Qt){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=cm(()=>{this._lastMutation=xi()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(hm(n,this._ignoreSelector)||!pm(t))return;const r={timestamp:cr(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=cr(t)}registerScroll(t=Date.now()){this._lastScroll=cr(t)}registerClick(t){const n=Ka(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=xi();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:W.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,d);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:W.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const fm=["A","BUTTON","INPUT"];function hm(e,t){return!!(!fm.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function pm(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function xi(){return Date.now()/1e3}function mm(e,t){try{if(!gm(t))return;const{source:n}=t.data;if(n===C.Mutation&&e.registerMutation(t.timestamp),n===C.Scroll&&e.registerScroll(t.timestamp),_m(t)){const{type:r,id:s}=t.data,i=He.mirror.getNode(s);i instanceof HTMLElement&&r===ae.Click&&e.registerClick(i)}}catch{}}function gm(e){return e.type===sm}function _m(e){return e.data.source===C.MouseInteraction}function Ce(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Mn;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Mn||(Mn={}));const ym=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Sm(e){const t={};for(const n in e)if(ym.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const bm=e=>t=>{if(!e.isEnabled())return;const n=Em(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&lm(e.clickDetector,n,Xa(t.event)),Qt(e,n)};function Za(e,t){const n=He.mirror.getId(e),r=n&&He.mirror.getNode(n),s=r&&He.mirror.getMeta(r),i=s&&Tm(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Mn.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:Sm(i.attributes)}}:{}}}function Em(e){const{target:t,message:n}=vm(e);return Ce({category:`ui.${e.name}`,...Za(t,n)})}function vm(e){const t=e.name==="click";let n,r=null;try{r=t?Xa(e.event):Ja(e.event),n=Xe(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Tm(e){return e.type===Mn.Element}function wm(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=km(t);n&&Qt(e,n)}function km(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||Im(o)||!i)return null;const a=t||r||s,c=i.length===1;if(!a&&c)return null;const u=Xe(o,{maxStringLength:200})||"<unknown>",d=Za(o,u);return Ce({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function Im(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Mi={resource:Om,paint:xm,navigation:Mm};function Rm(e){return e.map(Cm).filter(Boolean)}function Cm(e){return Mi[e.entryType]?Mi[e.entryType](e):null}function wt(e){return((he||W.performance.timeOrigin)+e)/1e3}function xm(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=wt(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function Mm(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:h,transferSize:m,type:g}=e;return s===0?null:{type:`${t}.${g}`,start:wt(h),end:wt(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function Om(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:wt(i),end:wt(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function Am(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,i=wt(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?He.mirror.getId(r):void 0}}}function Dm(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(zn(s,n))}),r.push(Ra(({metric:s})=>{e.replayPerformanceEntries.push(Am(s))})),()=>{r.forEach(s=>s())}}const U=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nm='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Lm(){const e=new Blob([Nm]);return URL.createObjectURL(e)}function ce(e,t){U&&(p.info(e),t&&Qa(e))}function gt(e,t){U&&(p.info(e),t&&setTimeout(()=>{Qa(e)},0))}function Qa(e){je({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Ts extends Error{constructor(){super(`Event buffer exceeded maximum size of ${_s}.`)}}class ec{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>_s)throw new Ts;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?vs(t):null}}class Pm{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){ce("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){U&&p.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Fm{constructor(t){this._worker=new Pm(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=vs(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>_s?Promise.reject(new Ts):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{U&&p.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class $m{constructor(t){this._fallback=new ec,this._compression=new Fm(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{ce("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,r=[];for(const s of t)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){U&&p.warn("[Replay] Failed to add events when switching buffers.",s)}}}function Bm({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Hm(t);if(n)return n}return ce("[Replay] Using simple buffer"),new ec}function Hm(e){try{const t=e||Um();if(!t)return;ce(`[Replay] Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new $m(n)}catch{ce("[Replay] Failed to create compression worker")}}function Um(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Lm():""}function ws(){try{return"sessionStorage"in W&&!!W.sessionStorage}catch{return!1}}function jm(e){zm(),e.session=void 0}function zm(){if(ws())try{W.sessionStorage.removeItem(ms)}catch{}}function tc(e){return e===void 0?!1:Math.random()<e}function nc(e){const t=Date.now(),n=e.id||se(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function ks(e){if(ws())try{W.sessionStorage.setItem(ms,JSON.stringify(e))}catch{}}function Wm(e,t){return tc(e)?"session":t?"buffer":!1}function Oi({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=Wm(e,t),i=nc({sampled:s,previousSessionId:r});return n&&ks(i),i}function qm(e){if(!ws())return null;try{const t=W.sessionStorage.getItem(ms);if(!t)return null;const n=JSON.parse(t);return gt("[Replay] Loading existing session",e),nc(n)}catch{return null}}function Ur(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function rc(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Ur(e.started,t,r)||Ur(e.lastActivity,n,r)}function sc(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!rc(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function ur({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&qm(e);return i?sc(i,{sessionIdleExpire:t,maxReplayDuration:n})?(gt("[Replay] Session in sessionStorage is expired, creating new one..."),Oi(s,{previousSessionId:i.id})):i:(gt("[Replay] Creating new session",e),Oi(s,{previousSessionId:r}))}function Gm(e){return e.type===R.Custom}function Is(e,t,n){return oc(e,t)?(ic(e,t,n),!0):!1}function Ym(e,t,n){return oc(e,t)?ic(e,t,n):Promise.resolve(null)}async function ic(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=e.getOptions(),s=Vm(t,r.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof Ts?"addEventSizeExceeded":"addEvent";U&&p.error(r),await e.stop({reason:s});const i=P();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function oc(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=vs(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(ce(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function Vm(e,t){try{if(typeof t=="function"&&Gm(e))return t(e)}catch(n){return U&&p.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function Rs(e){return!e.type}function jr(e){return e.type==="transaction"}function Km(e){return e.type==="replay_event"}function Ai(e){return e.type==="feedback"}function ac(e){const t=Zm();return(n,r)=>{if(!e.isEnabled()||!Rs(n)&&!jr(n))return;const s=r&&r.statusCode;if(!(t&&(!s||s<200||s>=300))){if(jr(n)){Xm(e,n);return}Jm(e,n)}}}function Xm(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Jm(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function Zm(){const e=P();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function Qm(e){return t=>{!e.isEnabled()||!Rs(t)||eg(e,t)}}function eg(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Ce({category:"replay.hydrate-error"});Qt(e,r)}}function tg(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function ng(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:R.Custom,timestamp:t.timestamp*1e3,data:{timestamp:t.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function rg(e,t){return e.recordingMode!=="buffer"||t.message===gs||!t.exception||t.type?!1:tc(e.getOptions().errorSampleRate)}function sg(e,t=!1){const n=t?ac(e):void 0;return Object.assign((r,s)=>e.isEnabled()?Km(r)?(delete r.breadcrumbs,r):!Rs(r)&&!jr(r)&&!Ai(r)||!e.checkAndHandleExpiredSession()?r:Ai(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),ng(e,r),r):tg(r,s)&&!e.getOptions()._experiments.captureExceptions?(U&&p.log("[Replay] Ignoring error from rrweb internals",r),null):((rg(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function Gn(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:R.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function ig(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function og(e){return t=>{if(!e.isEnabled())return;const n=ig(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Gn(e,[n]),!1)))}}function ag(e,t){return U&&e.getOptions()._experiments.traceInternals?!1:vd(t,P())}function Yn(e,t){e.isEnabled()&&t!==null&&(ag(e,t.name)||e.addUpdate(()=>(Gn(e,[t]),!0)))}function cg(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function ug(e){return t=>{if(!e.isEnabled())return;const n=cg(t);Yn(e,n)}}function lg(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[Be];if(!t||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function dg(e){return t=>{if(!e.isEnabled())return;const n=lg(t);Yn(e,n)}}function Vn(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=dc(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function cc(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function uc(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[dc(e)];if(!e)return[void 0]}catch{return U&&p.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return U&&p.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function On(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function lc(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:pe({method:i,statusCode:o,request:a,response:c})}}function Yt(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ue(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=fg(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function zr(e,t){return Object.keys(e).reduce((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n},{})}function dc(e){return new URLSearchParams(e).toString()}function fg(e){if(!e||typeof e!="string")return{body:e};const t=e.length>yi,n=hg(e);if(t){const r=e.slice(0,yi);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function hg(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function An(e,t){const n=pg(e);return Rt(n,t)}function pg(e,t=W.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(W.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function mg(e,t,n){try{const r=await _g(e,t,n),s=lc("resource.fetch",r);Yn(n.replay,s)}catch(r){U&&p.error("[Replay] Failed to capture fetch breadcrumb",r)}}function gg(e,t,n){const{input:r,response:s}=t,i=r?fc(r):void 0,o=Vn(i,n.textEncoder),a=s?cc(s.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}async function _g(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=An(o,n.networkDetailAllowUrls)&&!An(o,n.networkDetailDenyUrls),f=l?yg(n,t.input,u):Yt(u),h=await Sg(l,n,t.response,d);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:h}}function yg({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?vg(n,t):{};if(!e)return Ue(s,r,void 0);const i=fc(n),[o,a]=uc(i),c=Ue(s,r,o);return a?On(c,a):c}async function Sg(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,i){if(!e&&i!==void 0)return Yt(i);const o=s?hc(s.headers,r):{};if(!s||!t&&i!==void 0)return Ue(o,i,void 0);const[a,c]=await Eg(s),u=bg(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:o});return c?On(u,c):u}function bg(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=e&&e.length&&r===void 0?Vn(e,n):r;return s?t?Ue(i,o,e):Ue(i,o,void 0):Yt(o)}catch(o){return U&&p.warn("[Replay] Failed to serialize response body",o),Ue(i,r,void 0)}}async function Eg(e){const t=Tg(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await wg(t)]}catch(n){return U&&p.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function fc(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function hc(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function vg(e,t){return e.length===1&&typeof e[0]!="string"?Di(e[0],t):e.length===2?Di(e[1],t):{}}function Di(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?hc(n,t):Array.isArray(n)?{}:zr(n,t):{}}function Tg(e){try{return e.clone()}catch(t){U&&p.warn("[Replay] Failed to clone response body",t)}}function wg(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);kg(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function kg(e){return await e.text()}async function Ig(e,t,n){try{const r=Cg(e,t,n),s=lc("resource.xhr",r);Yn(n.replay,s)}catch(r){U&&p.error("[Replay] Failed to capture xhr breadcrumb",r)}}function Rg(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const i=Vn(s,n.textEncoder),o=r.getResponseHeader("content-length")?cc(r.getResponseHeader("content-length")):Ag(r.response,r.responseType,n.textEncoder);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function Cg(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!An(c,n.networkDetailAllowUrls)||An(c,n.networkDetailDenyUrls)){const T=Yt(l),E=Yt(f);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:d,request:T,response:E}}const h=a[Be],m=h?zr(h.request_headers,n.networkRequestHeaders):{},g=zr(xg(a),n.networkResponseHeaders),[_,y]=n.networkCaptureBodies?uc(o):[void 0],[S,O]=n.networkCaptureBodies?Mg(a):[void 0],x=Ue(m,l,_),L=Ue(g,f,S);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:d,request:y?On(x,y):x,response:O?On(L,O):L}}function xg(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function Mg(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Og(e.response,e.responseType)}catch(n){t.push(n)}return U&&p.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function Og(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return U&&p.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return U&&p.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ag(e,t,n){try{const r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Vn(r,n)}catch{return}}function Dg(e){const t=P();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,d)=>Ng(c,u,d)):(Xr(ug(e)),Jr(dg(e)))}catch{}}function Ng(e,t,n){if(t.data)try{Lg(t)&&Fg(n)&&(Rg(t,n,e),Ig(t,n,e)),Pg(t)&&$g(n)&&(gg(t,n,e),mg(t,n,e))}catch{U&&p.warn("Error when enriching network breadcrumb")}}function Lg(e){return e.category==="xhr"}function Pg(e){return e.category==="fetch"}function Fg(e){return e&&e.xhr}function $g(e){return e&&e.response}let Ni=null;function Bg(e){return!!e.category}const Hg=e=>t=>{if(!e.isEnabled())return;const n=Ug(t);n&&Qt(e,n)};function Ug(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return Ni===t||!t||(Ni=t,!Bg(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?jg(t):Ce(t)}function jg(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Ce(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>dn?(n=!0,`${s.slice(0,dn)}`):s;if(typeof s=="object")try{const i=ke(s,7);return JSON.stringify(i).length>dn?(n=!0,`${JSON.stringify(i,null,2).slice(0,dn)}`):i}catch{}return s});return Ce({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function zg(e){const t=be(),n=P();t.addScopeListener(Hg(e)),ho(bm(e)),Ln(og(e)),Dg(e);const r=sg(e,!Li(n));n&&n.addEventProcessor?n.addEventProcessor(r):Gl(r),Li(n)&&(n.on("beforeSendEvent",Qm(e)),n.on("afterSendEvent",ac(e)),n.on("createDsc",s=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{e.lastTransaction=s}),n.on("finishTransaction",s=>{e.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&o&&(e.flush(),s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o))}))}function Li(e){return!!(e&&e.on)}async function Wg(e){try{return Promise.all(Gn(e,[qg(W.performance.memory)]))}catch{return[]}}function qg(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Gg(e,t,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function d(){return s&&clearTimeout(s),s=setTimeout(a,t),o&&i===void 0&&(i=setTimeout(a,o)),r}return d.cancel=c,d.flush=u,d}function Yg(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){U&&p.warn("[Replay] Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&mm(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Is(e,n,s))return!0;if(!s)return!1;if(Kg(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(ce(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&ks(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function Vg(e){const t=e.getOptions();return{type:R.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Kg(e,t){!t||!e.session||e.session.segmentId!==0||Is(e,Vg(e),!1)}function Xg(e,t,n,r){return tt(wo(e,es(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Jg({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function Zg({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit&&e.emit("preprocessEvent",r,i);const o=await is(e.getOptions(),r,i,t,e,ns());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function Qg({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=Jg({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=P(),f=be(),h=l&&l.getTransport(),m=l&&l.getDsn();if(!l||!h||!m||!i.sampled)return;const g={type:Bh,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},_=await Zg({scope:f,client:l,replayId:t,event:g});if(!_){l.recordDroppedEvent("event_processor","replay",g),ce("An event processor returned `null`, will not send event.");return}delete _.sdkProcessingMetadata;const y=Xg(_,o,m,l.getOptions().tunnel);let S;try{S=await h.send(y)}catch(x){const L=new Error(gs);try{L.cause=x}catch{}throw L}if(!S)return S;if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new pc(S.statusCode);const O=Ro({},S);if(Io(O,"replay"))throw new mc(O);return S}class pc extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class mc extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function gc(e,t={count:0,interval:qh}){const{recordingData:n,options:r}=e;if(n.length)try{return await Qg(e),!0}catch(s){if(s instanceof pc||s instanceof mc)throw s;if(Sl("Replays",{_retryCount:t.count}),U&&r._experiments&&r._experiments.captureExceptions&&os(s),t.count>=Gh){const i=new Error(`${gs} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{setTimeout(async()=>{try{await gc(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const _c="__THROTTLED",e_="__SKIPPED";function t_(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const d=o;return o=!0,d?e_:_c}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class Fe{constructor({options:t,recordingOptions:n}){Fe.prototype.__init.call(this),Fe.prototype.__init2.call(this),Fe.prototype.__init3.call(this),Fe.prototype.__init4.call(this),Fe.prototype.__init5.call(this),Fe.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Hh,sessionIdleExpire:Uh},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Gg(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=t_((o,a)=>Ym(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(Yh,r),timeout:r,scrollTimeout:Vh,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new dm(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",gt(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");gt("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const t=ur({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");gt("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=ur({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._options._experiments.canvas;this._stopRecording=He({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:Wh},emit:Yg(this),onMutation:this._onMutationHandler,...t&&t.manager&&{recordCanvas:!0,getCanvasManager:t.manager,...bi[t.quality||"medium"]||bi.medium}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{ce(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,jm(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ce("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ce("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();ce("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Ur(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${W.location.pathname}${W.location.hash}${W.location.search}`,n=`${W.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===_c){const s=Ce({category:"replay.throttled"});this.addUpdate(()=>!Is(this,{type:im,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastTransaction||be().getTransaction();if(!(!t||!["route","custom"].includes(t.metadata.source)))return t.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Bm({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){U&&p.error("[Replay]",t),U&&this._options._experiments&&this._options._experiments.captureExceptions&&os(t)}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=ur({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return sc(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{W.document.addEventListener("visibilitychange",this._handleVisibilityChange),W.addEventListener("blur",this._handleWindowBlur),W.addEventListener("focus",this._handleWindowFocus),W.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(zg(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=Dm(this)}_removeListeners(){try{W.document.removeEventListener("visibilitychange",this._handleVisibilityChange),W.removeEventListener("blur",this._handleWindowBlur),W.removeEventListener("focus",this._handleWindowFocus),W.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{W.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Ce({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Ce({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{wm(this,t)}}_doChangeToBackgroundTasks(t){!this.session||rc(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ce("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:R.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=Rm(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Gn(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){U&&p.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Wg(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await gc({replayId:t,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=P();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){U&&p.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){ce(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&ce("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){U&&p.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&ks(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=Ce({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Lt(e,t,n,r){const s=typeof r=="string"?r.split(","):[],i=[...e,...s,...t];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),Je(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function n_({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const d=['base[href="/"]'],l=Lt(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=Lt(t,[".sentry-unmask","[data-sentry-unmask]"]),h={maskTextSelector:l,unmaskTextSelector:f,blockSelector:Lt(n,[".sentry-block","[data-sentry-block]",...d],i,o),unblockSelector:Lt(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Lt(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(h.blockClass=i),a instanceof RegExp&&(h.maskTextClass=a),h}function r_({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const Pi='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',s_=["content-length","content-type","accept"];let Fi=!1;class Cs{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=jh,flushMaxDelay:n=zh,minReplayDuration:r=Kh,maxReplayDuration:s=Si,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:d,maskAllText:l=!0,maskAllInputs:f=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:m=750,mutationLimit:g=1e4,slowClickTimeout:_=7e3,slowClickIgnoreSelectors:y=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:O=[],networkCaptureBodies:x=!0,networkRequestHeaders:L=[],networkResponseHeaders:T=[],mask:E=[],maskAttributes:M=["title","placeholder"],unmask:$=[],block:b=[],unblock:k=[],ignore:j=[],maskFn:Q,beforeAddRecordingEvent:X,beforeErrorSampling:ie,blockClass:B,blockSelector:Ee,maskInputOptions:J,maskTextClass:le,maskTextSelector:ve,ignoreClass:At}={}){this.name=Cs.id;const ze=n_({mask:E,unmask:$,block:b,unblock:k,ignore:j,blockClass:B,blockSelector:Ee,maskTextClass:le,maskTextSelector:ve,ignoreClass:At});if(this._recordingOptions={maskAllInputs:f,maskAllText:l,maskInputOptions:{...J||{},password:!0},maskTextFn:Q,maskInputFn:Q,maskAttributeFn:(We,rt,en)=>r_({maskAttributes:M,maskAllText:l,privacyOptions:ze,key:We,value:rt,el:en}),...ze,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:We=>{try{We.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Xh),maxReplayDuration:Math.min(s,Si),stickySession:i,sessionSampleRate:u,errorSampleRate:d,useCompression:o,workerUrl:a,blockAllMedia:h,maskAllInputs:f,maskAllText:l,mutationBreadcrumbLimit:m,mutationLimit:g,slowClickTimeout:_,slowClickIgnoreSelectors:y,networkDetailAllowUrls:S,networkDetailDenyUrls:O,networkCaptureBodies:x,networkRequestHeaders:$i(L),networkResponseHeaders:$i(T),beforeAddRecordingEvent:X,beforeErrorSampling:ie,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof d=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${d} })`),this._initialOptions.errorSampleRate=d),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Pi}`:Pi),this._isInitialized&&vr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Fi}set _isInitialized(t){Fi=t}setupOnce(){vr()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const t=i_(this._initialOptions);this._replay=new Fe({options:t,recordingOptions:this._recordingOptions})}}Cs.__initStatic();function i_(e){const t=P(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...pe(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&Je(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(Je(()=>{console.warn("SDK client is not available.")}),r)}function $i(e){return[...s_,...e.map(t=>t.toLowerCase())]}const nt=A,lr="#ffffff",Bi="inherit",dr="rgba(108, 95, 199, 1)",Hi={fontFamily:"'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:lr,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:dr,submitBorder:dr,submitOutlineFocus:"#29232f",submitForeground:lr,submitForegroundHover:lr,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Bi,inputForeground:Bi,inputBorder:"var(--border)",inputOutlineFocus:dr},Ui={light:Hi,dark:{...Hi,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},o_="Report a Bug",a_="Cancel",c_="Send Bug Report",u_="Report a Bug",l_="your.email@example.org",d_="Email",f_="What's the bug? What did you expect?",h_="Description",p_="Your Name",m_="Name",g_="Thank you for your report!",yc="widget",Sc="api";async function __({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const s=await is(e.getOptions(),n,r,t,e,ns());return s===null?(e.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}async function y_({feedback:{message:e,email:t,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const o=P(),a=o&&o.getTransport(),c=o&&o.getDsn();if(!o||!a||!c)return;const u={contexts:{feedback:{contact_email:t,name:n,message:e,url:s,source:r}},type:"feedback"};return Bn(async d=>{d.clearBreadcrumbs(),[Sc,yc].includes(String(r))&&d.setLevel("info");const l=await __({scope:d,client:o,event:u});if(!l)return;o.emit&&o.emit("beforeSendFeedback",l,{includeReplay:!!i});const f=Po(l,c,o.getOptions()._metadata,o.getOptions().tunnel);let h;try{h=await a.send(f)}catch(m){const g=new Error("Unable to send Feedback");try{g.cause=m}catch{}throw g}if(h){if(typeof h.statusCode=="number"&&(h.statusCode<200||h.statusCode>=300))throw new Error("Unable to send Feedback");return h}})}function S_({name:e,email:t,message:n,source:r=Sc,url:s=to()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return y_({feedback:{name:e,email:t,message:n,url:s,source:r}},i)}const ut=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ji(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function b_(e){const t=e.createElement("style");return t.textContent=`
.widget__actor {
  line-height: 25px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: 12px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 12px 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function E_(e){const t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: 20px;
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: 6px;
  color: var(--input-foreground);
  font-size: 14px;
  font-weight: 500;
  padding: 6px 12px;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: 12px;
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function zi(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};
  `}function v_(e,t,n){const r=e.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${zi(t==="dark"?n.dark:n.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${zi(n.dark)}
  }
}`:""}
}`,r}function T_({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const s=nt.document,i=s.createElement("div");i.id=e;const o=i.attachShadow({mode:"open"});return o.appendChild(v_(s,t,{dark:n,light:r})),o.appendChild(E_(s)),{shadow:o,host:i}}catch{throw p.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function w_(e,t,n){if(!e)return;const r=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return await S_({...t,source:yc},n)}catch(s){ut&&p.error(s),r()}}function fe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const ot=20,k_="http://www.w3.org/2000/svg";function I_(){const e=a=>nt.document.createElementNS(k_,a),t=fe(e("svg"),{class:"feedback-icon",width:`${ot}`,height:`${ot}`,viewBox:`0 0 ${ot} ${ot}`,fill:"none"}),n=fe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=fe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),i=fe(e("clipPath"),{id:"clip0_57_80"}),o=fe(e("rect"),{width:`${ot}`,height:`${ot}`,fill:"white"});return i.appendChild(o),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(o),{get el(){return t}}}function G(e,t,...n){const s=nt.document.createElement(e);t&&Object.entries(t).forEach(([i,o])=>{i==="className"&&typeof o=="string"?s.setAttribute("class",o):typeof o=="boolean"&&o?s.setAttribute(i,""):typeof o=="string"?s.setAttribute(i,o):i.startsWith("on")&&typeof o=="function"&&s.addEventListener(i.substring(2).toLowerCase(),o)});for(const i of n)bc(s,i);return s}function bc(e,t){const n=nt.document;if(!(typeof t>"u"||t===null))if(Array.isArray(t))for(const r of t)bc(e,r);else t===!1||(typeof t=="string"?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function R_({buttonLabel:e,onClick:t}){function n(s){t&&t(s)}const r=G("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},I_().el,e?G("span",{className:"widget__actor__text"},e):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function C_({label:e}){return{el:G("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function fr(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function x_({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,cancelButtonLabel:o,submitButtonLabel:a,showName:c,showEmail:u,isNameRequired:d,isEmailRequired:l,defaultName:f,defaultEmail:h,onCancel:m,onSubmit:g}){const{el:_}=C_({label:a});function y(b){if(b.preventDefault(),b.target instanceof HTMLFormElement)try{if(g){const k=new FormData(b.target),j={name:fr(k,"name"),email:fr(k,"email"),message:fr(k,"message")};g(j)}}catch{}}const S=G("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function O(b){S.textContent=b,S.classList.remove("form__error-container--hidden"),S.setAttribute("aria-hidden","false")}function x(){S.textContent="",S.classList.add("form__error-container--hidden"),S.setAttribute("aria-hidden","true")}const L=G("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:f}),T=G("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:l,className:"form__input",placeholder:r,value:h}),E=G("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),M=G("button",{type:"button",className:"btn btn--default","aria-label":o,onClick:b=>{m&&m(b)}},o),$=G("form",{className:"form",onSubmit:y},[S,c&&G("label",{htmlFor:"name",className:"form__label"},[G("span",{className:"form__label__text"},e,d&&G("span",{className:"form__label__text--required"}," (required)")),L]),!c&&L,u&&G("label",{htmlFor:"email",className:"form__label"},[G("span",{className:"form__label__text"},n,l&&G("span",{className:"form__label__text--required"}," (required)")),T]),!u&&T,G("label",{htmlFor:"message",className:"form__label"},[G("span",{className:"form__label__text"},s,G("span",{className:"form__label__text--required"}," (required)")),E]),G("div",{className:"btn-group"},[_,M])]);return{get el(){return $},showError:O,hideError:x}}const M_="http://www.w3.org/2000/svg";function O_({colorScheme:e}){const t=o=>nt.document.createElementNS(M_,o),n=fe(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=fe(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=t("defs"),i=t("style");return e==="system"&&(i.textContent=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),i.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,s.append(i),n.append(s),{get el(){return n}}}function A_({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:a,defaultEmail:c,onClosed:u,onCancel:d,onSubmit:l,...f}){let h=null;function m(){g(),u&&u()}function g(){h&&(h.open=!1)}function _(){h&&(h.open=!0)}function y(){return h&&h.open===!0||!1}const{el:S,showError:O,hideError:x}=x_({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:l,onCancel:d,...f});return h=G("dialog",{className:"dialog",open:!0,onClick:m},G("div",{className:"dialog__content",onClick:L=>{L.stopPropagation()}},G("h2",{className:"dialog__header"},e,t&&G("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},O_({colorScheme:o}).el)),S)),{get el(){return h},showError:O,hideError:x,open:_,close:g,checkIsOpen:y}}const pn=16,Wi=17,D_="http://www.w3.org/2000/svg";function N_(){const e=c=>nt.document.createElementNS(D_,c),t=fe(e("svg"),{class:"success-icon",width:`${pn}`,height:`${Wi}`,viewBox:`0 0 ${pn} ${Wi}`,fill:"none"}),n=fe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=fe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=fe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const i=e("defs"),o=fe(e("clipPath"),{id:"clip0_57_156"}),a=fe(e("rect"),{width:`${pn}`,height:`${pn}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(a),{get el(){return t}}}function L_({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=G("div",{className:"success-message",onClick:n},N_().el,e);return{el:r,remove:n}}function qi({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let s,i,o=!1;function a(){if(e)try{const _=L_({message:n.successMessageText,onRemove:()=>{y&&clearTimeout(y),u()}});if(!_.el)throw new Error("Unable to show success message");e.appendChild(_.el);const y=setTimeout(()=>{_&&_.remove()},5e3)}catch(_){p.error(_)}}async function c(_){if(!i)return;const y=[];if(n.isNameRequired&&!_.name&&y.push(n.nameLabel),n.isEmailRequired&&!_.email&&y.push(n.emailLabel),_.message||y.push(n.messageLabel),y.length>0){i.showError(`Please enter in the following required fields: ${y.join(", ")}`);return}if(!await w_(i,_)){n.onSubmitError&&n.onSubmitError();return}m(),a(),n.onSubmitSuccess&&n.onSubmitSuccess()}function u(){s&&s.show()}function d(){s&&s.hide()}function l(){s&&s.el&&s.el.remove()}function f(){try{if(i){i.open(),o=!0,n.onFormOpen&&n.onFormOpen();return}const _=n.useSentryUser,y=be(),S=y&&y.getUser();if(i=A_({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,defaultName:_&&S&&S[_.name]||"",defaultEmail:_&&S&&S[_.email]||"",onClosed:()=>{u(),o=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{h(),u()},onSubmit:c}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),d(),n.onFormOpen&&n.onFormOpen()}catch(_){p.error(_)}}function h(){i&&(i.close(),o=!1,n.onFormClose&&n.onFormClose())}function m(){if(i){h();const _=i.el;_&&_.remove(),i=void 0}}function g(){o||f(),d()}return r?r.addEventListener("click",g):t&&(s=R_({buttonLabel:n.buttonLabel,onClick:g}),s.el&&e.appendChild(s.el)),{get actor(){return s},get dialog(){return i},showActor:u,hideActor:d,removeActor:l,openDialog:f,closeDialog:h,removeDialog:m}}const mn=nt.document;class xs{static __initStatic(){this.id="Feedback"}constructor({id:t="sentry-feedback",showBranding:n=!0,autoInject:r=!0,showEmail:s=!0,showName:i=!0,useSentryUser:o={email:"email",name:"username"},isEmailRequired:a=!1,isNameRequired:c=!1,themeDark:u,themeLight:d,colorScheme:l="system",buttonLabel:f=o_,cancelButtonLabel:h=a_,submitButtonLabel:m=c_,formTitle:g=u_,emailPlaceholder:_=l_,emailLabel:y=d_,messagePlaceholder:S=f_,messageLabel:O=h_,namePlaceholder:x=p_,nameLabel:L=m_,successMessageText:T=g_,onFormClose:E,onFormOpen:M,onSubmitError:$,onSubmitSuccess:b}={}){this.name=xs.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={id:t,showBranding:n,autoInject:r,isEmailRequired:a,isNameRequired:c,showEmail:s,showName:i,useSentryUser:o,colorScheme:l,themeDark:{...Ui.dark,...u},themeLight:{...Ui.light,...d},buttonLabel:f,cancelButtonLabel:h,submitButtonLabel:m,formTitle:g,emailLabel:y,emailPlaceholder:_,messageLabel:O,messagePlaceholder:S,nameLabel:L,namePlaceholder:x,successMessageText:T,onFormClose:E,onFormOpen:M,onSubmitError:$,onSubmitSuccess:b}}setupOnce(){if(vr())try{this._cleanupWidgetIfExists();const{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){ut&&p.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,n){try{const r=ji(this.options,n||{});return this._ensureShadowHost(r,({shadow:s})=>{const i=typeof t=="string"?mn.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!i)return ut&&p.error("[Feedback] Unable to attach to target element"),null;const o=qi({shadow:s,options:r,attachTo:i});return this._widgets.add(o),this._widget||(this._widget=o),o})}catch(r){return ut&&p.error(r),null}}createWidget(t){try{return this._createWidget(ji(this.options,t||{}))}catch(n){return ut&&p.error(n),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(n){ut&&p.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const t=mn.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:n})=>{const r=qi({shadow:n,options:t});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(b_(mn)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(t,n){let r=!1;if(!this._shadow||!this._host){const{id:i,colorScheme:o,themeLight:a,themeDark:c}=t,{shadow:u,host:d}=T_({id:i,colorScheme:o,themeLight:a,themeDark:c});this._shadow=u,this._host=d,r=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;const s=n({shadow:this._shadow,host:this._host});return r&&mn.body.appendChild(this._host),s}}xs.__initStatic();function Vt(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function P_(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Vt(n);return s=>r.then(i=>s(i.transaction(t,"readwrite").objectStore(t)))}function Ec(e){return Vt(e.getAllKeys())}function F_(e,t,n){return e(r=>Ec(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),Vt(r.transaction)}))}function $_(e){return e(t=>Ec(t).then(n=>{if(n.length!==0)return Vt(t.get(n[0])).then(r=>(t.delete(n[0]),Vt(t.transaction).then(()=>r)))}))}function B_(e){let t;function n(){return t==null&&(t=P_(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async r=>{try{const s=await To(r,e.textEncoder);await F_(n(),s,e.maxQueueSize||30)}catch{}},pop:async()=>{try{const r=await $_(n());if(r)return Pu(r,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch{}}}}function H_(e){return t=>e({...t,createStore:B_})}function $y(e){return H_(nd(e))}const Gi=1e6,Sn=String(0),U_="main";let vc="",Tc="",wc="",Wr=w.navigator&&w.navigator.userAgent||"",kc="";const j_=w.navigator&&w.navigator.language||w.navigator&&w.navigator.languages&&w.navigator.languages[0]||"";function z_(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const Yi=w.navigator&&w.navigator.userAgentData;z_(Yi)&&Yi.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(vc=e.platform||"",wc=e.architecture||"",kc=e.model||"",Tc=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];Wr=`${t.brand} ${t.version}`}}).catch(e=>{});function W_(e){return!("thread_metadata"in e)}function q_(e){return W_(e)?V_(e):e}function G_(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&N&&p.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function Y_(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=G_(r),i=q_(n),o=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),a=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Fn,runtime:{name:"javascript",version:w.navigator.userAgent},os:{name:vc,version:Tc,build_number:Wr},device:{locale:j_,model:kc,manufacturer:Wr,architecture:wc,is_emulator:!1},debug_meta:{images:J_(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||se(),trace_id:s,active_thread_id:Sn,relative_start_ns:"0",relative_end_ns:((a-o)*1e6).toFixed(0)}]}}function Ic(e){return e.op==="pageload"}function V_(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Sn]:{name:U_}}};if(!e.samples.length)return r;const s=e.samples[0].timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:he||0,o=i-(he||i);for(let a=0;a<e.samples.length;a++){const c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[a]={elapsed_since_start_ns:((c.timestamp+o-s)*Gi).toFixed(0),stack_id:t,thread_id:Sn};continue}let u=e.stacks[c.stackId];const d=[];for(;u;){d.push(u.frameId);const f=e.frames[u.frameId];r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}const l={elapsed_since_start_ns:((c.timestamp+o-s)*Gi).toFixed(0),stack_id:n,thread_id:Sn};r.stacks[n]=d,r.samples[a]=l,n++}return r}function K_(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function X_(e){const t=[];return St(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const i=n[s];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[s])}}),t}const Vi=new WeakMap;function J_(e){const t=A._sentryDebugIds;if(!t)return[];const n=P(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let i;const o=Vi.get(s);o?i=o:(i=new Map,Vi.set(s,i));const a=Object.keys(t).reduce((u,d)=>{let l;const f=i.get(d);f?l=f:(l=s(d),i.set(d,l));for(let h=l.length-1;h>=0;h--){const m=l[h],g=m&&m.filename;if(m&&g){u[g]=t[d];break}}return u},{}),c=[];for(const u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function Z_(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(N&&p.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(N&&p.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Q_(e){return e.samples.length<2?(N&&p.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(N&&p.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Rc=!1;const Cc=3e4;function ey(e){return typeof e=="function"}function ty(){const e=w.Profiler;if(!ey(e)){N&&p.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Cc/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{N&&(p.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),p.log("[Profiling] Disabling profiling for current user session.")),Rc=!0}}function qr(e){if(Rc)return N&&p.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.sampled)return N&&p.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=P(),n=t&&t.getOptions();if(!n)return N&&p.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return Z_(r)?r?(r===!0?!0:Math.random()<r)?!0:(N&&p.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(N&&p.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(N&&p.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function ny(e,t,n,r){return Q_(n)?Y_(e,t,n,r):null}const Ke=new Map;function ry(){return Ke.size}function sy(e){const t=Ke.get(e);return t&&Ke.delete(e),t}function iy(e,t){if(Ke.set(e,t),Ke.size>30){const n=Ke.keys().next().value;Ke.delete(n)}}function By(e){return e?qr(e)?Gr(e):e:(N&&p.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function Gr(e){let t;Ic(e)&&(t=Ne()*1e3);const n=ty();if(!n)return e;N&&p.log(`[Profiling] started profiling transaction: ${e.name||e.description}`);const r=se();async function s(){return!e||!n?null:n.stop().then(c=>(i&&(w.clearTimeout(i),i=void 0),N&&p.log(`[Profiling] stopped profiling of transaction: ${e.name||e.description}`),c?(iy(r,c),null):(N&&p.log(`[Profiling] profiler returned null profile for: ${e.name||e.description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(N&&p.log("[Profiling] error while stopping profiler:",c),null))}let i=w.setTimeout(()=>{N&&p.log("[Profiling] max profile duration elapsed, stopping profiling for:",e.name||e.description),s()},Cc);const o=e.end.bind(e);function a(){return e?(s().then(()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),o()},()=>{o()}),e):o()}return e.end=a,e}const xc="BrowserProfiling",oy=()=>({name:xc,setup(e){const n=be().getTransaction();if(n&&Ic(n)&&qr(n)&&Gr(n),typeof e.on!="function"){p.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",r=>{qr(r)&&Gr(r)}),e.on("beforeEnvelope",r=>{if(!ry())return;const s=X_(r);if(!s.length)return;const i=[];for(const o of s){const a=o&&o.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){N&&p.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){N&&p.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;const d=sy(c);if(!d){N&&p.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}const l=ny(c,u,d,o);l&&i.push(l)}K_(r,i)})}}),Hy=me(xc,oy);let Mc={};w.Sentry&&w.Sentry.Integrations&&(Mc=w.Sentry.Integrations);const Uy={...Mc,...Ed,...Qf};export{ha as Breadcrumbs,Kd as BrowserClient,Hy as BrowserProfilingIntegration,Fy as BrowserTracing,Sa as Dedupe,xs as Feedback,Xo as FunctionToString,aa as GlobalHandlers,_a as HttpContext,Mo as Hub,Zo as InboundFilters,Uy as Integrations,ma as LinkedErrors,Ry as ModuleMetadata,Cs as Replay,Cr as SDK_VERSION,Re as Scope,da as TryCatch,w as WINDOW,je as addBreadcrumb,Gl as addEventProcessor,Wu as addGlobalEventProcessor,ky as addIntegration,Tl as addTracingExtensions,No as captureEvent,os as captureException,cy as captureMessage,Py as captureUserFeedback,lf as chromeStackLineParser,_y as close,uy as configureScope,Ty as continueTrace,Yo as createTransport,Yd as createUserFeedbackEnvelope,Jf as defaultIntegrations,Nr as defaultRequestInstrumentationOptions,vf as defaultStackLineParsers,Tf as defaultStackParser,zd as eventFromException,Wd as eventFromMessage,sa as exceptionFromError,ay as extractTraceparentData,gy as flush,Dy as forceLoad,pf as geckoStackLineParser,wl as getActiveSpan,Mt as getActiveTransaction,P as getClient,F as getCurrentHub,be as getCurrentScope,xr as getHubFromCarrier,Oy as init,Mh as instrumentOutgoingRequests,yy as lastEventId,$y as makeBrowserOfflineTransport,Zd as makeFetchTransport,Js as makeMain,Iy as makeMultiplexedTransport,ef as makeXHRTransport,Cy as metrics,Ny as onLoad,By as onProfilingStartRouteTransaction,xy as opera10StackLineParser,My as opera11StackLineParser,Sl as setContext,dy as setExtra,ly as setExtras,wy as setMeasurement,hy as setTag,fy as setTags,py as setUser,Ay as showReportDialog,il as spanStatusfromHttpCode,vy as startInactiveSpan,by as startSpan,Ey as startSpanManual,my as startTransaction,Sy as trace,_f as winjsStackLineParser,Bn as withScope,Ly as wrap};
